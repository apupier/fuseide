<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>JSon Jackson DataFormat</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="json-gson-dataformat.html" title="JSon GSon DataFormat"><link rel="next" href="json-johnzon-dataformat.html" title="JSon Johnzon DataFormat"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="json-jackson-dataformat"></a>JSon Jackson DataFormat</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="json-jackson-dataformat.html#_jackson_options">Jackson Options</a></span></dt><dt><span class="section"><a href="json-jackson-dataformat.html#_using_custom_objectmapper">Using custom ObjectMapper</a></span></dt><dt><span class="section"><a href="json-jackson-dataformat.html#_dependencies_43">Dependencies</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel version 2.0</strong></span></p><p>Jackson is a Data Format which uses the
<a class="link" href="https://github.com/FasterXML/jackson-core" target="_top">Jackson Library</a></p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"activemq:My.Queue"</em></strong>).
  marshal().json(JsonLibrary.Jackson).
  to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"mqseries:Another.Queue"</em></strong>);</pre><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_jackson_options"></a>Jackson Options</h2></div></div></div><p>The JSon Jackson dataformat supports 19 options which are listed below.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="11%" class="col_2"><col width="10%" class="col_3"><col width="60%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Default</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>objectMapper</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Lookup and use the existing ObjectMapper with the given id when using Jackson.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>useDefaultObjectMapper</strong></span></p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">Boolean</code></p></td><td align="left" valign="top"><p>Whether to lookup and use default Jackson ObjectMapper from the registry.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>prettyPrint</strong></span></p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">Boolean</code></p></td><td align="left" valign="top"><p>To enable pretty printing output nicely formatted. Is by default false.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>library</strong></span></p></td><td align="left" valign="top"><p><code class="literal">XStream</code></p></td><td align="left" valign="top"><p><code class="literal">JsonLibrary</code></p></td><td align="left" valign="top"><p>Which json library to use.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>unmarshalTypeName</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Class name of the java type to use when unarmshalling</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>jsonView</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">Class&lt;?&gt;</code></p></td><td align="left" valign="top"><p>When marshalling a POJO to JSON you might want to exclude certain fields from the JSON output. With Jackson you can use JSON views to accomplish this. This option is to refer to the class which has JsonView annotations</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>include</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>If you want to marshal a pojo to JSON, and the pojo has some fields with null values. And you want to skip these null values, you can set this option to NOT_NULL</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>allowJmsType</strong></span></p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">Boolean</code></p></td><td align="left" valign="top"><p>Used for JMS users to allow the JMSType header from the JMS spec to specify a FQN classname to use to unmarshal to.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>collectionTypeName</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Refers to a custom collection type to lookup in the registry to use. This option should rarely be used, but allows to use different collection types than java.util.Collection based as default.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>useList</strong></span></p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">Boolean</code></p></td><td align="left" valign="top"><p>To unarmshal to a List of Map or a List of Pojo.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>enableJaxbAnnotationModule</strong></span></p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">Boolean</code></p></td><td align="left" valign="top"><p>Whether to enable the JAXB annotations module when using jackson. When enabled then JAXB annotations can be used by Jackson.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>moduleClassNames</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>To use custom Jackson modules com.fasterxml.jackson.databind.Module specified as a String with FQN class names. Multiple classes can be separated by comma.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>moduleRefs</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>To use custom Jackson modules referred from the Camel registry. Multiple modules can be separated by comma.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>enableFeatures</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Set of features to enable on the Jackson com.fasterxml.jackson.databind.ObjectMapper. The features should be a name that matches a enum from com.fasterxml.jackson.databind.SerializationFeature, com.fasterxml.jackson.databind.DeserializationFeature, or com.fasterxml.jackson.databind.MapperFeature Multiple features can be separated by comma</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>disableFeatures</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Set of features to disable on the Jackson com.fasterxml.jackson.databind.ObjectMapper. The features should be a name that matches a enum from com.fasterxml.jackson.databind.SerializationFeature, com.fasterxml.jackson.databind.DeserializationFeature, or com.fasterxml.jackson.databind.MapperFeature Multiple features can be separated by comma</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>permissions</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Adds permissions that controls which Java packages and classes XStream is allowed to use during unmarshal from xml/json to Java beans. A permission must be configured either here or globally using a JVM system property. The permission can be specified in a syntax where a plus sign is allow, and minus sign is deny. Wildcards is supported by using . as prefix. For example to allow com.foo and all subpackages then specfy com.foo.. Multiple permissions can be configured separated by comma, such as com.foo.,-com.foo.bar.MySecretBean. The following default permission is always included: -,java.lang.,java.util. unless its overridden by specifying a JVM system property with they key org.apache.camel.xstream.permissions.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>allowUnmarshallType</strong></span></p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">Boolean</code></p></td><td align="left" valign="top"><p>If enabled then Jackson is allowed to attempt to use the CamelJacksonUnmarshalType header during the unmarshalling. This should only be enabled when desired to be used.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>timezone</strong></span></p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>If set then Jackson will use the Timezone when marshalling/unmarshalling. This option will have no effect on the others Json DataFormat, like gson, fastjson and xstream.</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>contentTypeHeader</strong></span></p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">Boolean</code></p></td><td align="left" valign="top"><p>Whether the data format should set the Content-Type header with the type from the data format if the data format is capable of doing so. For example application/xml for data formats marshalling to XML, or application/json for data formats marshalling to JSon etc.</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_using_custom_objectmapper"></a>Using custom ObjectMapper</h2></div></div></div><p>You can configure <code class="literal">JacksonDataFormat</code> to use a custom <code class="literal">ObjectMapper</code> in case you need more control of the mapping configuration.</p><p>If you setup a single <code class="literal">ObjectMapper</code> in the registry, then Camel will automatic lookup and use this <code class="literal">ObjectMapper</code>.
For example if you use Spring Boot, then Spring Boot can provide a default <code class="literal">ObjectMapper</code> for you if you have Spring MVC enabled.
And this would allow Camel to detect that there is one bean of <code class="literal">ObjectMapper</code> class type in the Spring Boot bean registry
and then use it. When this happens you should set a <code class="literal">INFO</code> logging from Camel.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_dependencies_43"></a>Dependencies</h2></div></div></div><p>To use Jackson in your camel routes you need to add the dependency
on <span class="strong"><strong>camel-jackson</strong></span> which implements this data format.</p><p>If you use maven you could just add the following to your pom.xml,
substituting the version number for the latest &amp; greatest release (see
the download page for the latest versions).</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-jackson<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>x.x.x<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
  <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- use the same version as your Camel core version --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre></div></div></body></html>