<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>File Language</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="file-component.html" title="File Component"><link rel="next" href="flatpack-component.html" title="Flatpack Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="file-language"></a>File Language</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="file-language.html#_file_language_options">File Language options</a></span></dt><dt><span class="section"><a href="file-language.html#_syntax">Syntax</a></span></dt><dt><span class="section"><a href="file-language.html#_file_token_example">File token example</a></span></dt><dt><span class="section"><a href="file-language.html#_samples_16">Samples</a></span></dt><dt><span class="section"><a href="file-language.html#_using_spring_propertyplaceholderconfigurer_together_with_the_file_component">Using Spring PropertyPlaceholderConfigurer together with the File component</a></span></dt><dt><span class="section"><a href="file-language.html#_dependencies_32">Dependencies</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel version 1.1</strong></span></p><p>INFO:*File language is now merged with Simple language*
From Camel 2.2 onwards, the file language is now merged with
<a class="link" href="simple-language.html" title="Simple Language">Simple</a> language which means you can use all the file
syntax directly within the simple language.</p><p>The File Expression Language is an extension to the
<a class="link" href="simple-language.html" title="Simple Language">Simple</a> language, adding file related capabilities.
These capabilities are related to common use cases working with file
path and names. The goal is to allow expressions to be used with the
File and FTP components for setting
dynamic file patterns for both consumer and producer.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_file_language_options"></a>File Language options</h2></div></div></div><p>The File language supports 2 options which are listed below.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="11%" class="col_2"><col width="10%" class="col_3"><col width="60%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Default</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>resultType</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Sets the class name of the result type (type from output)</p></td></tr><tr><td align="left" valign="top"><p>trim</p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">Boolean</code></p></td><td align="left" valign="top"><p>Whether to trim the value to remove leading and trailing whitespaces and line breaks</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_syntax"></a>Syntax</h2></div></div></div><p>This language is an <span class="strong"><strong>extension</strong></span> to the <a class="link" href="simple-language.html" title="Simple Language">Simple</a> language
so the <a class="link" href="simple-language.html" title="Simple Language">Simple</a> syntax applies also. So the table below
only lists the additional. 
 As opposed to <a class="link" href="simple-language.html" title="Simple Language">Simple</a> language
<a class="link" href="file-language.html" title="File Language">File Language</a> also supports
<a class="link" href="constant-language.html" title="Constant Language">Constant</a> expressions so you can enter a fixed
filename.</p><p>All the file tokens use the same expression name as the method on the
<code class="literal">java.io.File</code> object, for instance <code class="literal">file:absolute</code> refers to the
<code class="literal">java.io.File.getAbsolute()</code> method. Notice that not all expressions are
supported by the current Exchange. For instance the <a class="link" href="ftp-component.html" title="FTP Component">FTP</a>
component supports some of the options, where as the
File component supports all of them.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="10%" class="col_3"><col width="11%" class="col_4"><col width="10%" class="col_5"><col width="24%" class="col_6"><col width="25%" class="col_7"></colgroup><thead><tr><th align="left" valign="top">Expression</th><th align="left" valign="top">Type</th><th align="left" valign="top">File Consumer</th><th align="left" valign="top">File Producer</th><th align="left" valign="top">FTP Consumer</th><th align="left" valign="top">FTP Producer</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>file:name</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the file name (is relative to the starting directory, see note
below)</p></td></tr><tr><td align="left" valign="top"><p>file:name.ext</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.3:</strong></span> refers to the file extension only</p></td></tr><tr><td align="left" valign="top"><p>file:name.ext.single</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.14.4/2.15.3:</strong></span> refers to the file extension. If the file
extension has mutiple dots, then this expression strips and only returns
the last part.</p></td></tr><tr><td align="left" valign="top"><p>file:name.noext</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the file name with no extension (is relative to the starting
directory, see note below)</p></td></tr><tr><td align="left" valign="top"><p>file:name.noext.single</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.14.4/2.15.3:</strong></span> refers to the file name with no extension (is
relative to the starting directory, see note below). If the file
extension has multiple dots, then this expression strips only the last
part, and keep the others.</p></td></tr><tr><td align="left" valign="top"><p>file:onlyname</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the file name only with no leading paths.</p></td></tr><tr><td align="left" valign="top"><p>file:onlyname.noext</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the file name only with no extension and with no leading
paths.</p></td></tr><tr><td align="left" valign="top"><p>file:onlyname.noext.single</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>*Camel 2.14.4/2.15.3:*refers to the file name only with no extension and
with no leading paths. If the file extension has multiple dots, then
this expression strips only the last part, and keep the others.</p></td></tr><tr><td align="left" valign="top"><p>file:ext</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the file extension only</p></td></tr><tr><td align="left" valign="top"><p>file:parent</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the file parent</p></td></tr><tr><td align="left" valign="top"><p>file:path</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the file path</p></td></tr><tr><td align="left" valign="top"><p>file:absolute</p></td><td align="left" valign="top"><p>Boolean</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to whether the file is regarded as absolute or relative</p></td></tr><tr><td align="left" valign="top"><p>file:absolute.path</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the absolute file path</p></td></tr><tr><td align="left" valign="top"><p>file:length</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>refers to the file length returned as a Long type</p></td></tr><tr><td align="left" valign="top"><p>file:size</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.5:</strong></span> refers to the file length returned as a Long type</p></td></tr><tr><td align="left" valign="top"><p>file:modified</p></td><td align="left" valign="top"><p>Date</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Refers to the file last modified returned as a Date type</p></td></tr><tr><td align="left" valign="top"><p>date:_command:pattern_</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>for date formatting using the <code class="literal">java.text.SimpleDateFormat</code> patterns. Is
an <span class="strong"><strong>extension</strong></span> to the <a class="link" href="simple-language.html" title="Simple Language">Simple</a> language. Additional
command is: <span class="strong"><strong>file</strong></span> (consumers only) for the last modified timestamp of
the file. Notice: all the commands from the <a class="link" href="simple-language.html" title="Simple Language">Simple</a>
language can also be used.</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_file_token_example"></a>File token example</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="file-language.html#_relative_paths">Relative paths</a></span></dt><dt><span class="section"><a href="file-language.html#_absolute_paths">Absolute paths</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_relative_paths"></a>Relative paths</h3></div></div></div><p>We have a <code class="literal">java.io.File</code> handle for the file <code class="literal">hello.txt</code> in the
following <span class="strong"><strong>relative</strong></span> directory: <code class="literal">.\filelanguage\test</code>. And we configure
our endpoint to use this starting directory <code class="literal">.\filelanguage</code>. The file
tokens will return as:</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="50%" class="col_1"><col width="50%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">Expression</th><th align="left" valign="top">Returns</th></tr></thead><tbody><tr><td align="left" valign="top"><p>file:name</p></td><td align="left" valign="top"><p>test\hello.txt</p></td></tr><tr><td align="left" valign="top"><p>file:name.ext</p></td><td align="left" valign="top"><p>txt</p></td></tr><tr><td align="left" valign="top"><p>file:name.noext</p></td><td align="left" valign="top"><p>test\hello</p></td></tr><tr><td align="left" valign="top"><p>file:onlyname</p></td><td align="left" valign="top"><p>hello.txt</p></td></tr><tr><td align="left" valign="top"><p>file:onlyname.noext</p></td><td align="left" valign="top"><p>hello</p></td></tr><tr><td align="left" valign="top"><p>file:ext</p></td><td align="left" valign="top"><p>txt</p></td></tr><tr><td align="left" valign="top"><p>file:parent</p></td><td align="left" valign="top"><p>filelanguage\test</p></td></tr><tr><td align="left" valign="top"><p>file:path</p></td><td align="left" valign="top"><p>filelanguage\test\hello.txt</p></td></tr><tr><td align="left" valign="top"><p>file:absolute</p></td><td align="left" valign="top"><p>false</p></td></tr><tr><td align="left" valign="top"><p>file:absolute.path</p></td><td align="left" valign="top"><p>\workspace\camel\camel-core\target\filelanguage\test\hello.txt</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_absolute_paths"></a>Absolute paths</h3></div></div></div><p>We have a <code class="literal">java.io.File</code> handle for the file <code class="literal">hello.txt</code> in the
following <span class="strong"><strong>absolute</strong></span> directory:
<code class="literal">\workspace\camel\camel-core\target\filelanguage\test</code>. And we configure
out endpoint to use the absolute starting directory
<code class="literal">\workspace\camel\camel-core\target\filelanguage</code>. The file tokens will
return as:</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="50%" class="col_1"><col width="50%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">Expression</th><th align="left" valign="top">Returns</th></tr></thead><tbody><tr><td align="left" valign="top"><p>file:name</p></td><td align="left" valign="top"><p>test\hello.txt</p></td></tr><tr><td align="left" valign="top"><p>file:name.ext</p></td><td align="left" valign="top"><p>txt</p></td></tr><tr><td align="left" valign="top"><p>file:name.noext</p></td><td align="left" valign="top"><p>test\hello</p></td></tr><tr><td align="left" valign="top"><p>file:onlyname</p></td><td align="left" valign="top"><p>hello.txt</p></td></tr><tr><td align="left" valign="top"><p>file:onlyname.noext</p></td><td align="left" valign="top"><p>hello</p></td></tr><tr><td align="left" valign="top"><p>file:ext</p></td><td align="left" valign="top"><p>txt</p></td></tr><tr><td align="left" valign="top"><p>file:parent</p></td><td align="left" valign="top"><p>\workspace\camel\camel-core\target\filelanguage\test</p></td></tr><tr><td align="left" valign="top"><p>file:path</p></td><td align="left" valign="top"><p>\workspace\camel\camel-core\target\filelanguage\test\hello.txt</p></td></tr><tr><td align="left" valign="top"><p>file:absolute</p></td><td align="left" valign="top"><p>true</p></td></tr><tr><td align="left" valign="top"><p>file:absolute.path</p></td><td align="left" valign="top"><p>\workspace\camel\camel-core\target\filelanguage\test\hello.txt</p></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_samples_16"></a>Samples</h2></div></div></div><p>You can enter a fixed <a class="link" href="constant-language.html" title="Constant Language">Constant</a> expression such as
<code class="literal">myfile.txt</code>:</p><pre class="screen">fileName="myfile.txt"</pre><p>Lets assume we use the file consumer to read files and want to move the
read files to backup folder with the current date as a sub folder. This
can be archieved using an expression like:</p><pre class="screen">fileName="backup/${date:now:yyyyMMdd}/${file:name.noext}.bak"</pre><p>relative folder names are also supported so suppose the backup folder
should be a sibling folder then you can append .. as:</p><pre class="screen">fileName="../backup/${date:now:yyyyMMdd}/${file:name.noext}.bak"</pre><p>As this is an extension to the <a class="link" href="simple-language.html" title="Simple Language">Simple</a> language we have
access to all the goodies from this language also, so in this use case
we want to use the in.header.type as a parameter in the dynamic
expression:</p><pre class="screen">fileName="../backup/${date:now:yyyyMMdd}/type-${in.header.type}/backup-of-${file:name.noext}.bak"</pre><p>If you have a custom Date you want to use in the expression then Camel
supports retrieving dates from the message header.</p><pre class="screen">fileName="orders/order-${in.header.customerId}-${date:in.header.orderDate:yyyyMMdd}.xml"</pre><p>And finally we can also use a bean expression to invoke a POJO class
that generates some String output (or convertible to String) to be used:</p><pre class="screen">fileName="uniquefile-${bean:myguidgenerator.generateid}.txt"</pre><p>And of course all this can be combined in one expression where you can
use the <a class="link" href="file-language.html" title="File Language">File Language</a>, <a class="link" href="file-language.html" title="File Language">Simple</a>
and the <a class="link" href="bean-component.html" title="Bean Component">Bean</a> language in one combined expression. This
is pretty powerful for those common file path patterns.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_using_spring_propertyplaceholderconfigurer_together_with_the_file_component"></a>Using Spring PropertyPlaceholderConfigurer together with the File component</h2></div></div></div><p>In Camel you can use the <a class="link" href="file-language.html" title="File Language">File Language</a> directly
from the <a class="link" href="simple-language.html" title="Simple Language">Simple</a> language which makes a
Content Based Router easier to do in
Spring XML, where we can route based on file extensions as shown below:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;from</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"file://input/orders"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
   <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;choice&gt;</strong>
     <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;when&gt;</strong>
         <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;simple&gt;</strong>${file:ext} == 'txt'<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/simple&gt;</strong>
         <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"bean:orderService?method=handleTextFiles"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
     <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/when&gt;</strong>
     <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;when&gt;</strong>
         <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;simple&gt;</strong>${file:ext} == 'xml'<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/simple&gt;</strong>
         <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"bean:orderService?method=handleXmlFiles"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
     <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/when&gt;</strong>
     <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;otherwise&gt;</strong>
         <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"bean:orderService?method=handleOtherFiles"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
     <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/otherwise&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/choice&gt;</strong></pre><p>If you use the <code class="literal">fileName</code> option on the File endpoint
to set a dynamic filename using the <a class="link" href="file-language.html" title="File Language">File Language</a> then make sure you 
 use the alternative syntax (available from Camel 2.5 onwards) to avoid
clashing with Springs <code class="literal">PropertyPlaceholderConfigurer</code>.</p><p><span class="strong"><strong>bundle-context.xml</strong></span></p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;bean</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">id</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"propertyPlaceholder"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">class</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;property</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">name</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"location"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">value</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"classpath:bundle-context.cfg"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096"> /&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/bean&gt;</strong>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;bean</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">id</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"sampleRoute"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">class</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"SampleRoute"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;property</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">name</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"fromEndpoint"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">value</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"${fromEndpoint}"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096"> /&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;property</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">name</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"toEndpoint"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">value</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"${toEndpoint}"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096"> /&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/bean&gt;</strong></pre><p><span class="strong"><strong>bundle-context.cfg</strong></span></p><pre class="screen">fromEndpoint=activemq:queue:test
toEndpoint=file://fileRoute/out?fileName=test-$simple{date:now:yyyyMMdd}.txt</pre><p>Notice how we use the $simple\{ } syntax in the <code class="literal">toEndpoint</code> above.
 If you don&#8217;t do this, there is a clash and Spring will throw an
exception like</p><pre class="programlisting">org.springframework.beans.factory.BeanDefinitionStoreException:
Invalid bean definition with name <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">'sampleRoute'</em></strong> defined in <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong> path resource [bundle-context.xml]:
Could not resolve placeholder <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">'date:now:yyyyMMdd'</em></strong></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_dependencies_32"></a>Dependencies</h2></div></div></div><p>The File language is part of <span class="strong"><strong>camel-core</strong></span>.</p></div></div></body></html>