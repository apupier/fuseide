<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Developing Applications</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling for Eclipse"><link rel="up" href="RiderUG.html" title="Part&nbsp;II.&nbsp;Using the Red Hat Fuse Tooling for Eclipse Tools"><link rel="prev" href="RiderIntroPart.html" title="Introducing Fuse Tooling"><link rel="next" href="RiderCamelDebugger.html" title="Debugging Routing Contexts"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="RiderDevPart"></a>Developing Applications</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#RiderNewProject">Creating a New Fuse Integration Project</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#FIDENewRouteFile">Creating a New Camel XML file</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderEditRoute">Editing a routing context in the route editor</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderEditSource">The Source Tab</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RESTdsl">Viewing REST DSL components</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#newCamelTestCase">Creating a new Apache Camel JUnit test case</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderRunning">Running routes inside Red Hat Fuse Tooling</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderFisTools">Getting Started with Fuse Integration Services</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderSAP">Using the Red Hat Fuse SAP Tool Suite</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#TransTools">Getting Started with Data Transformation</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#IgniteExtension">Developing extensions for Ignite integrations</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#ChangeCamelVersion">Changing the Camel version</a></span></dt></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can also develop Fuse projects using Maven. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jbossfuse/6.3/html/developing_and_deploying_applications/develop" target="_top">Getting Started with Developing</a>.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderNewProject"></a>Creating a New Fuse Integration Project</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_overview_4"></a>Overview</h3></div></div></div><p>Creating a new Fuse Integration project involves these main steps:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="RiderDevPart.html#nfpProjBasics" title="Specifying the project name and workspace">Specifying the project name and workspace</a></li><li class="listitem"><a class="link" href="RiderDevPart.html#nfpTargetEnv" title="Configuring the project deployment environment">Configuring the project deployment environment</a></li><li class="listitem"><a class="link" href="RiderDevPart.html#nfpTemplate" title="Selecting a project template">Selecting a project template</a></li><li class="listitem">If necessary, <a class="link" href="RiderDevPart.html#riderMavenDependErrors" title="Resolving Maven dependency errors">resolving Maven dependency errors</a></li></ul></div><p>After you configure the project, the tooling downloads all of the required Maven dependencies and creates the POM file needed to run and publish the project.</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="nfpProjBasics"></a>Specifying the project name and workspace</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Select <span class="strong"><strong>New</strong></span> &#8594; <span class="strong"><strong>Project</strong></span> &#8594; <span class="strong"><strong>Red Hat Fuse</strong></span> &#8594; <span class="strong"><strong>Fuse Integration Project</strong></span> to open the <span class="strong"><strong>New Fuse Integration Project</strong></span> wizard:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpProjectName1.png" alt="nfpProjectName1"></div></div><p class="simpara">The wizard opens with the <span class="strong"><strong>Use default workspace location</strong></span>
option selected in the <span class="strong"><strong>Location</strong></span> pane.</p></li><li class="listitem"><a name="cnfigProjectName"></a>In <span class="strong"><strong>Project Name</strong></span>, enter a name for the new project. For example, <span class="strong"><strong><code class="literal">MySampleProject</code></strong></span>.</li><li class="listitem"><p class="simpara">Specify the workspace location in which you want to store the data for the project.</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">To use the default workspace leave <span class="strong"><strong>Use default workspace location</strong></span> enabled.</li><li class="listitem">To use an alternative location clear <span class="strong"><strong>Use default workspace location</strong></span> and specify a new location in the
<span class="strong"><strong>Path</strong></span> field. Click <span class="strong"><strong>Browse</strong></span> to quickly find and select an alternate workspace.</li></ol></div></li><li class="listitem">Click <span class="strong"><strong>Next</strong></span> to open the <span class="strong"><strong>Select a Target Environment</strong></span> page.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="nfpTargetEnv"></a>Configuring the project deployment environment</h3></div></div></div><p>When you create a new project, you specify the project&#8217;s target deployment environment so that your project has the resources it needs at runtime. You must select a deployment platform and a Camel version, and you can optionally select a runtime</p><p>With the <span class="strong"><strong>Select a Target Environment</strong></span> page open:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Select whether you want to deploy the project on <span class="strong"><strong>OpenShift</strong></span> or in a <span class="strong"><strong>Standalone</strong></span> environment.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/NFPcamelVersion.png" alt="NFPcamelVersion"></div></div></li><li class="listitem"><p class="simpara">Optionally, specify a target runtime environment:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">If you selected <span class="strong"><strong>OpenShift</strong></span> for the deployment environment, the <span class="strong"><strong>Sprint Boot</strong></span> runtime is automatically selected.</li><li class="listitem"><p class="simpara">If you selected <span class="strong"><strong>Standalone</strong></span> for the deployment environment, you can select a target runtime:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><span class="strong"><strong>Spring Boot</strong></span></li><li class="listitem"><span class="strong"><strong>Karaf/Fuse on Karaf</strong></span></li><li class="listitem"><p class="simpara"><span class="strong"><strong>Wildfly/Fuse on EAP</strong></span></p><p class="simpara">For all of these standalone runtime environments, you can leave <span class="strong"><strong>No runtime selected</strong></span>, select an existing configured runtime from the drop-down menu, or you can create a new one.</p><p class="simpara">If you select a runtime environment, the  <span class="strong"><strong>Select the Camel version for your new project</strong></span> pane displays the Camel version associated with the runtime. Optionally, you can select or enter a different Camel version.</p></li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">If you did not specify a runtime environment or you want to change the default, select a Camel version from the list or enter a different version.</p><p class="simpara">Fuse Tooling supports the productized options available from the drop-down list, but allows you to type a different Camel
version, if you want to experiment with non-productized versions (which are not supported).</p><p class="simpara">When you enter a non-productized Camel version, you can click the
<span class="strong"><strong>Verify</strong></span> button to check whether the tooling can access the specified version. If not, a notification appears in the
<span class="strong"><strong>Select a Target Runtime</strong></span> header similar to the following:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpCamVerVerify.png" alt="nfpCamVerVerify"></div></div><p class="simpara">If you select an existing, configured target runtime or a specific Camel version on which to
base your new Fuse Integration project, you need only select the project&#8217;s
template (See <a class="xref" href="RiderDevPart.html#nfpTemplate" title="Selecting a project template">Selecting a project template</a>). Optionally, you
can create a new target runtime (see <a class="xref" href="RiderDevPart.html#nfpNewTargetRT" title="Creating a new target runtime">Creating a new target runtime</a>) before you select the project&#8217;s template.</p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>After you create, configure, and save a project, you can change the Camel version. See <a class="xref" href="RiderDevPart.html#ChangeCamelVersion" title="Changing the Camel version">Changing the Camel version</a>.</p></td></tr></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="nfpNewTargetRT"></a>Creating a new target runtime</h2></div></div></div><p>With the <span class="strong"><strong>Select a Target Runtime</strong></span> page open:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Target Runtime</strong></span> pane, click
<span class="strong"><strong>New</strong></span> to open the <span class="strong"><strong>New server runtime
environment</strong></span> page:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpDefNewServRuntimeJBF.png" alt="New Server Runtime Environment"></div></div></li><li class="listitem"><p class="simpara">Expand the <code class="literal">Red Hat JBoss Middleware</code> folder, and then select a Red Hat
Fuse runtime environment (for example <code class="literal">Red Hat Fuse 7.0</code>).</p><p class="simpara">Leave the <span class="strong"><strong>Create a new local server</strong></span> option disabled.
You can create the local server later when you are ready to publish your
project to it (for details, see<a class="xref" href="RiderDeployPart.html#FIDEAddServer" title="Adding a Server">Adding a Server</a>).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you click the <span class="strong"><strong>Create a new local server</strong></span> option, the <span class="strong"><strong>New Fuse
Integration Project</strong></span> wizard walks you through additional steps
to define and configure the Fuse server runtime (as described
in <a class="xref" href="RiderDeployPart.html#FIDEAddServer" title="Adding a Server">Adding a Server</a>). Then, when it builds the project, it
also adds the server runtime to the <span class="strong"><strong>Servers</strong></span> view in the
<span class="strong"><strong>Fuse Integration</strong></span> perspective.</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Next</strong></span> to open the server&#8217;s <span class="strong"><strong>Runtime Definition</strong></span> page:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpRuntimeDefJBF1.png" alt="nfpRuntimeDefJBF1"></div></div></li><li class="listitem"><p class="simpara">Specify the <span class="strong"><strong>Name</strong></span>, <span class="strong"><strong>Home Directory</strong></span>, <span class="strong"><strong>Execution Environment</strong></span> of the server runtime:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Name</strong></span>&#8201;&#8212;&#8201;Accept the default or enter a new name for the runtime
environment</li><li class="listitem"><p class="simpara"><span class="strong"><strong>Home Directory</strong></span>&#8201;&#8212;&#8201;Click the <span class="strong"><strong>Browse</strong></span> button to
locate and select the server runtime&#8217;s installation directory</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If the server is not already installed on your machine, you can install it now by clicking the <span class="strong"><strong>Download and install runtime</strong></span> link and following the site&#8217;s download instructions. Depending on the site, you might be required to provide valid credentials before you can continue the download process.</p></td></tr></table></div></li><li class="listitem"><p class="simpara"><span class="strong"><strong>Execution Environment</strong></span>&#8201;&#8212;&#8201;Accept the default, or select another JavaSE
version from the drop-down menu.</p><p class="simpara">If the version that you want does not appear on the list, click the
<span class="strong"><strong>Environments</strong></span> button and select the version from that list.
The JRE version that you select must be installed on your machine.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Fuse 7.0 requires JRE version 1.8.</p></td></tr></table></div></li><li class="listitem"><p class="simpara"><span class="strong"><strong>Alternate JRE</strong></span></p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>If you need to modify the configuration of an existing target runtime:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">From the menu bar, select <span class="strong"><strong>JBoss Developer Studio</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse</strong></span> &#8594; <span class="strong"><strong>Server</strong></span> &#8594; <span class="strong"><strong>Runtime Environments</strong></span> to open the <span class="strong"><strong>Server Runtime Environments</strong></span> page. (On Linux and Windows machines, you access <span class="strong"><strong>Preferences</strong></span> through the <span class="strong"><strong>Windows</strong></span> menu.)</li><li class="listitem">In the <span class="strong"><strong>Name</strong></span> pane, select the runtime you want to modify and then click <span class="strong"><strong>Edit</strong></span> to open the server&#8217;s Runtime Definition page.</li><li class="listitem">Change the <span class="strong"><strong>Name</strong></span> of the target runtime, its <span class="strong"><strong>Home Directory</strong></span>, and/or its <span class="strong"><strong>Execution Environment</strong></span>.</li></ol></div></td></tr></table></div></li></ul></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span> to return to the <span class="strong"><strong>Select a Target Runtme</strong></span> page:</p><p class="simpara">The newly configured target runtime appears in the <span class="strong"><strong>Target Runtime</strong></span> pane&#8217;s
drop-down menu, and the Camel version supported by the runtime appears in the
<span class="strong"><strong>Camel Version</strong></span> pane, grayed out.</p><p class="simpara">After you create a Fuse Integration project, it is possible to change
the Camel version. See <a class="xref" href="RiderDevPart.html#ChangeCamelVersion" title="Changing the Camel version">Changing the Camel version</a>.</p></li><li class="listitem">Click <span class="strong"><strong>Next</strong></span> to specify a template for the project as described in <a class="xref" href="RiderDevPart.html#nfpTemplate" title="Selecting a project template">Selecting a project template</a>.</li></ol></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="nfpTemplate"></a>Selecting a project template</h3></div></div></div><p>The <span class="strong"><strong>Advanced Project Setup</strong></span> page provides a list of templates that you can use as a starting point for your new project. The templates, based on common use cases, provide sample code and data to get you started quickly. The list of available templates depends on the runtime environment that you selected on the previous page. Select a template to view its description in the right pane.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">For <span class="strong"><strong>Fuse on OpenShift</strong></span> there is a single template that demonstrates how to configure Camel routes in
Spring Boot using a Spring XML configuration file. This template
creates a Fuse Integration Services project and requires a Camel version newer than <span class="emphasis"><em>2.18.1.redhat-000012</em></span>.</p><p class="simpara">This template creates a project that runs on OpenShift
servers, and it supports the Spring DSL only. For details on
using this template, see <a class="xref" href="RiderDevPart.html#RiderFisTools" title="Getting Started with Fuse Integration Services">Getting Started with Fuse Integration Services</a>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpTemplateOpenShift.png" alt="nfpTemplateOpenShift"></div></div></li><li class="listitem"><p class="simpara">For <span class="strong"><strong>Wildfly</strong></span> or <span class="strong"><strong>Fuse on EAP</strong></span> there is a single template that provides a sample Camel route that calls into a bean
service to say Hello. This template creates a project that runs on Red Hat EAP servers, and it supports the Spring DSL only.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpTemplateEAP.png" alt="nfpTemplateEAP"></div></div></li><li class="listitem"><p class="simpara">For <span class="strong"><strong>Karaf</strong></span> or <span class="strong"><strong>Fuse on Karaf</strong></span>, you can create an empty project, which creates a skeleton Camel context routing file based on one of the three supported Domain Specific Languages (DSLs), or you can use a predefined template, each of which is based on a common use case. Individual templates might not support all DSL options.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For Java DSL, the tooling generates a <code class="literal">CamelRoute.java</code> file that you can edit in the tooling&#8217;s Java editor, but it does not generate a graphical representation of it in the <span class="strong"><strong>Diagram</strong></span> view.</p></td></tr></table></div><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpTemplateKaraf.png" alt="nfpTemplateKaraf"></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara"><span class="strong"><strong>ActiveMQ</strong></span>&#8201;&#8212;&#8201;(not compatible with Fuse 7) Provides a sample Camel route that reads files from a
specific location and routes them to a message queue. Another
route, implementing a content-based router, pulls the messages
off the queue and routes each to its target destination,
according to message content.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Before you can deploy this project, you must create, in your Red Hat Fuse installation, a pid file that configures the ActiveMQ connection properties. For details, open the <code class="literal">ReadMe.txt</code> file, listed under the project root in the <span class="strong"><strong>Project Explorer</strong></span> view.</p></td></tr></table></div><p class="simpara">This template creates a project that runs on Red Hat Fuse servers, and it supports the Blueprint and Spring DSLs only.</p></li><li class="listitem"><p class="simpara"><span class="strong"><strong>Content Based Router</strong></span>&#8201;&#8212;&#8201;Provides a sample Camel route that reads files
from a specific location and routes them to different output
folders according to message content.</p><p class="simpara">This template creates a project that runs on Red Hat Fuse servers, and it supports all
three of the DSLs.</p></li><li class="listitem"><p class="simpara"><span class="strong"><strong>CXF code first</strong></span>&#8201;&#8212;&#8201;Provides a sample Camel route that is started by a CXF web service call.</p><p class="simpara">This template creates a project that runs on Red Hat Fuse servers, and it supports the Spring and Java DSLs only.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Select a template from the list or click the <span class="strong"><strong>Where can I find more examples to use as templates?</strong></span> link to open an information dialog with a list of URLs with more examples:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpTemplateExamples.png" alt="nfpTemplateExamples"></div></div><p class="simpara">To use one of these examples, clone the repository from one of the listed URLs and then import the project into Fuse Tooling by using <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Import</strong></span> &#8594; <span class="strong"><strong>Maven</strong></span> &#8594; <span class="strong"><strong>Existing Maven projects</strong></span>.</p></li><li class="listitem"><p class="simpara">After you select a template, click <span class="strong"><strong>Finish</strong></span>.</p><p class="simpara">The tooling starts building the project and adds it to the <span class="strong"><strong>Project Explorer</strong></span> view.</p><p class="simpara">If the <span class="strong"><strong>Fuse Integration</strong></span> perspective is not already open, the tooling asks whether you want to switch to it now:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/OpenAssociatedPerspective.png" alt="OpenAssociatedPerspective"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Yes</strong></span> to open the new project in the <span class="strong"><strong>Fuse Integration</strong></span> perspective:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpTemplateProjectOpen.png" alt="nfpTemplateProjectOpen"></div></div><p class="simpara">The project appears in the <span class="strong"><strong>Project Explorer</strong></span> view.</p></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Source</strong></span> tab at the bottom of the canvas to see the generated Camel context file:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpTemplateCBRsource.png" alt="nfpTemplateCBRsource"></div></div></li></ol></div></li></ul></div></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="riderMavenDependErrors"></a>Resolving Maven dependency errors</h3></div></div></div><p>You might encounter Maven dependency errors after you create a new Fuse Integration project.</p><p>Though it can happen at other times, it more typically occurs when you cancel a project build before the process has finished. Interrupting the process in this way often
prevents all of the project&#8217;s dependencies from downloading from the Maven repositories, which can take some time.</p><p>You can often resolve these dependency errors by updating Maven dependencies as follows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, right-click the root project to open the context menu.</li><li class="listitem">Select <span class="strong"><strong>Maven</strong></span> &#8594; <span class="strong"><strong>Update Project</strong></span>.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Update Maven Project</strong></span> wizard:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Select the project that you want to update, if more than one appears in the wizard&#8217;s list.</li><li class="listitem">Click the <span class="strong"><strong>Force Update of Snapshots/Releases</strong></span> option to enable it.</li></ul></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>OK</strong></span>.</p><p class="simpara">In the bottom, right corner of the workbench, you can view the progress status
bar churning as missing dependencies are downloaded from the Maven repositories.</p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="FIDENewRouteFile"></a>Creating a New Camel XML file</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_overview_5"></a>Overview</h3></div></div></div><p>Apache Camel stores routes in an XML file that contains a camelContext element. The tooling includes a wizard that simplifies adding an
Apache Camel context file to your project. It creates a new XML file that has all of the
required namespaces preconfigured and a template camelContext
element.</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_procedure"></a>Procedure</h3></div></div></div><p>To add a new Apache Camel context file to your project:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Select <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>New</strong></span> &#8594; <span class="strong"><strong>Camel XML File</strong></span> from the main menu to open the <span class="strong"><strong>Camel XML File</strong></span>
wizard, as shown in <a class="xref" href="RiderDevPart.html#CmlXmlFileWiz" title="Figure&nbsp;6.&nbsp;Camel XML File wizard">Figure&nbsp;6, &#8220;Camel XML File wizard&#8221;</a>.</p><div class="figure"><a name="CmlXmlFileWiz"></a><p class="title"><b>Figure&nbsp;6.&nbsp;Camel XML File wizard</b></p><div class="figure-contents"><div class="mediaobject"><img src="./images/newCamXMLfileWS.png" alt="Camel XML file wizard"></div></div></div><br class="figure-break"></li><li class="listitem"><p class="simpara">In <span class="strong"><strong>RouteContainer</strong></span>, enter the location for the new file,
or accept the default.</p><p class="simpara">You can click
<span class="inlinemediaobject"><img src="./images/BrowseButton.jpg" alt="Browse&#8230;&#8203; button"></span> to search for an appropriate location.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>The Spring framework and the OSGi Blueprint framework require that all
Apache Camel files be placed in specific locations under the project&#8217;s
<code class="literal">META-INF</code> or <code class="literal">OSGI-INF</code> folder:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Spring - <code class="literal">projectName/src/main/resources/META-INF/spring/</code></li><li class="listitem">OSGi Blueprint - <code class="literal">projectName/src/main/resources/OSGI-INF/blueprint/</code></li></ul></div></td></tr></table></div></li><li class="listitem"><p class="simpara">In <span class="strong"><strong>File Name</strong></span>, enter a name for the new context file, or
accept the default (<code class="literal">camelContext.xml</code>).</p><p class="simpara">The file&#8217;s name cannot contain spaces or special characters, and it must be
unique within the JVM.</p></li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Framework</strong></span>, accept the default, or select which
framework the routes will use:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Spring</strong></span>&#8201;&#8212;&#8201;[default] for routes that will be
deployed in Spring containers, non-OSGi containers, or as standalone
applications</li><li class="listitem"><span class="strong"><strong>OSGi Blueprint</strong></span>&#8201;&#8212;&#8201;for routes that will be
deployed in OSGi containers</li><li class="listitem"><span class="strong"><strong>Routes</strong></span>&#8201;&#8212;&#8201;for routes that you can load and add
into existing <code class="literal">camelContext</code>s</li></ul></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><p class="simpara">The new context file is added to the project and opened in the route
editor.</p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderEditRoute"></a>Editing a routing context in the route editor</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#RiderNewRoute">Adding routes to the routing context</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderAddPattern">Adding patterns to a route</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderPatternConnect">Connecting patterns to make a route</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderPatternConfig">Configuring a pattern</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderRemovePattern">Removing patterns from a route</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderRemoveRoute">Deleting a route</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderAddBeans">Manually adding beans and configuration</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderAddGlobalCnfg">Adding global endpoints, data formats, or beans</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderEditPrefs">Configuring the route editor</a></span></dt></dl></div><pre class="literallayout">The following sections describe how to edit a routing context.</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderNewRoute"></a>Adding routes to the routing context</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_6"></a>Overview</h4></div></div></div><p>The camelContext element within an XML context file creates a
routing context. The camelContext element can contain one or
more routes, and each route, displayed on the canvas as a <code class="literal">Route</code>
container node, maps to a route element in the generated camelContext element.</p><p>When you create a new Fuse Integration Project, the tooling creates an example
<code class="literal">camelContext.xml</code> (Spring) or <code class="literal">blueprint.xml</code>
(Blueprint) routing context file. You can view and edit the contents of the routing
context file in the route editor&#8217;s <span class="strong"><strong>Source</strong></span> tab. In the
<span class="strong"><strong>Design</strong></span> tab, the route editor displays a
<code class="literal">Route</code> container node, which represents the empty route element. You can drag patterns from the
<span class="strong"><strong>Palette</strong></span> and drop them into the <code class="literal">Route</code>
container node on the canvas to create a route. The Camel tooling updates the empty route element with XML code generated from the patterns you
dropped into the <code class="literal">Route</code> container node on the canvas.</p><p>The tooling provides two methods for adding a new route:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">In the <span class="strong"><strong>Design</strong></span> tab, by dragging a <code class="literal">Route</code>
pattern from the <span class="strong"><strong>Palette</strong></span>'s <span class="strong"><strong>Routing</strong></span>
drawer and dropping it onto the canvas</li><li class="listitem">In the <span class="strong"><strong>Source</strong></span> tab, by adding a &lt;route/&gt; element to the existing list within the camelContext element</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_2"></a>Procedure</h4></div></div></div><p>To add another route to the camelContext: element</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Select one of the methods for adding a route.</p><p class="simpara">With the <span class="strong"><strong>Design</strong></span> tab selected, notice that the
<span class="strong"><strong>Properties</strong></span> view displays the list of the new route&#8217;s
properties for you to edit.</p></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> view, enter :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">An ID (for example, <span class="strong"><strong>Route2</strong></span>) for
the new route in the route&#8217;s <span class="strong"><strong>Id</strong></span> field</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The tooling automatically assigns an ID to EIP and component
patterns dropped on the canvas. You can replace these
autogenerated IDs with your own to distinguish the routes in
your project.</p></td></tr></table></div></li><li class="listitem">A description of the route in the <span class="strong"><strong>Description</strong></span>
field</li><li class="listitem">A value for any other property as needed</li></ul></div></li><li class="listitem">On the menu bar, select <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> to save the changes you made to the routing context file.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>To switch between multiple routes, select the route you want to display on the canvas by
clicking its entry under the project&#8217;s <code class="literal">Camel Contexts</code> folder in
the <span class="strong"><strong>Project Explorer</strong></span> view.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/routeEntriesProjectExplorer.png" alt="routeEntriesProjectExplorer"></div></div><p>When you click the context file entry in the <span class="strong"><strong>Project Explorer</strong></span>
view, the canvas displays all routes in the context, as space allows.</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderAddPattern"></a>Adding patterns to a route</h3></div></div></div><p>Routes consist of a sequence of connected patterns, referred to as <span class="strong"><strong>nodes</strong></span> once they are placed on the canvas inside a <code class="literal">Route</code>
container node. To add a pattern to a route you drag it from the
<span class="strong"><strong>Palette</strong></span> and drop it into a Route container on the canvas.</p><p>When patterns are dropped into a Route container on the canvas, they take on a color that
indicates the type of node they are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Blue&#8201;&#8212;&#8201;Route containers, which correspond to route elements in
the context file, and other container nodes, such as <code class="literal">when</code> and
<code class="literal">otherwise</code> EIPs that
contain other EIPs that complete their logic</li><li class="listitem">Green&#8201;&#8212;&#8201;Consumer endpoints that input data entering routes</li><li class="listitem">Orange&#8201;&#8212;&#8201;EIPs that route, transform, process, or control the flow of data transiting
routes</li><li class="listitem">Purple&#8201;&#8212;&#8201;Producer endpoints that output the data exiting routes</li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_3"></a>Procedure</h4></div></div></div><p>To drag a pattern onto a route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Palette</strong></span>, locate the pattern you want to add to the
route.</li><li class="listitem"><p class="simpara">Drag the pattern over the target <code class="literal">Route</code> container and drop
it.</p><p class="simpara">Alternatively, you can drop a pattern on an existing node that has no outgoing
connection, or on a connection existing between two nodes, to have the tooling
automatically wire the connections between all nodes involved.</p><p class="simpara">The tooling
checks whether the resulting connection is valid and then either allows or
prevents you from dropping the pattern on the drop target. For valid
connections, the tooling:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">existing node&#8201;&#8212;&#8201;adds the new node to the target node&#8217;s
outgoing side (beneath or to the right of it depending on how the
editor preferences are set) and automatically wires the connection
between them</li><li class="listitem">existing connection&#8201;&#8212;&#8201;inserts the new node between the two
connected nodes and automatically rewires the connections between
the three nodes</li></ul></div></li></ol></div><p>The new pattern appears on the canvas in the <code class="literal">Route</code> container and
becomes the selected node. The <span class="strong"><strong>Properties</strong></span> view displays a list of
the new node&#8217;s properties for you to edit.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>After you drop a pattern inside a Route container, you can drag it to different location
inside the route container or to another route container on the canvas, as long as
it can establish a valid connection. You can also relocate existing nodes that are
already connected, as long as the move can establish another valid
connection.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When you connect one node to another, the tooling updates the layout according to the route
editor&#8217;s layout preference. The default is <span class="strong"><strong>Down</strong></span>.</p><p>To access the route editor 's layout preference:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">On Linux and Windows machines, <span class="guimenu">Windows</span> &gt; <span class="guisubmenu">Preferences</span> &gt; <span class="guisubmenu">Fuse Tooling</span> &gt; <span class="guisubmenu">Editor</span> &gt; <span class="guimenuitem">Choose the layout direction for the diagram editor</span></li><li class="listitem">On OS X, <span class="guimenu">JBoss Developer Studio</span> &gt; <span class="guisubmenu">Preferences</span> &gt; <span class="guisubmenu">Fuse Tooling</span> &gt; <span class="guisubmenu">Editor</span> &gt; <span class="guimenuitem">Choose the layout direction for the diagram editor</span></li></ul></div></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_related_topics_3"></a>Related topics</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderPatternConfig" title="Configuring a pattern">Configuring a pattern</a></li><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderRemovePattern" title="Removing patterns from a route">Removing patterns from a route</a></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderPatternConnect"></a>Connecting patterns to make a route</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_7"></a>Overview</h4></div></div></div><p>A complete route typically consists of a starting endpoint, a string of processing nodes,
and one or more destination endpoints. The tooling saves routes in the context file
regardless of whether they are complete.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>The tooling appends every new node added in the <span class="strong"><strong>Design</strong></span> tab to its route element in the context file, and any that are not connected
manually, using the connector arrows, are auto-connected when the context file is reopened,
or when a route is reloaded in the route editor, by switching from the
<span class="strong"><strong>Source</strong></span> tab to the <span class="strong"><strong>Design</strong></span> tab.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Not all nodes can be connected. When you try to connect a source node to an invalid target
node, the tooling displays the
<span class="inlinemediaobject"><img src="./images/unconfigured_co_gray.gif" alt="unconfigured co gray"></span> symbol attached to the mouse cursor, and the connector fails to
stick to the target node.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_manually_connecting_nodes"></a>Manually connecting nodes</h4></div></div></div><p>Connecting two nodes in a <code class="literal">Route</code> container on the canvas is as simple
as dragging a line from one to the other. Each node in a route has a connector arrow.
Selecting a node and dragging its connector arrow to a target node establishes a
connection between the two nodes.</p><p>To connect two nodes:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <code class="literal">Route</code> container on the canvas, select the source node to
display its connector arrow.</li><li class="listitem"><p class="simpara">Drag the source node&#8217;s connector arrow (
<span class="inlinemediaobject"><img src="images/ConnectorArrow.jpg" alt="ConnectorArrow"></span>) to the target node.</p><p class="simpara">The direction of the connection represents the direction messages flow between the
nodes in the route.</p></li><li class="listitem"><p class="simpara">While hovering over the target node, release the mouse button to drop the connector on
it.</p><p class="simpara">The route editor updates the &lt;route&gt; element in the
routing context file with the xml generated from the connection. You can view the xml in
the <span class="strong"><strong>Source</strong></span> tab.</p></li><li class="listitem">When you are done, save your work by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> from the menu bar.</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderPatternConfig"></a>Configuring a pattern</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_8"></a>Overview</h4></div></div></div><p>Most patterns require some explicit configuration. For example, an endpoint requires an
explicitly entered <code class="literal">URI</code>.</p><p>The tooling&#8217;s <span class="strong"><strong>Properties</strong></span> view provides a form that lists all of the
configuration details a particular pattern supports. The <span class="strong"><strong>Properties</strong></span> view
also provides the following convenience features:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">validating that all required properties have values</li><li class="listitem">validating that supplied values are the correct data type for the
property</li><li class="listitem">drop-down lists for properties that have a fixed set of values</li><li class="listitem">drop-down lists that are populated with the available bean references from the Apache
Camel Spring configuration</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_4"></a>Procedure</h4></div></div></div><p>To configure a pattern:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">On the canvas, select the node you want to configure.</p><p class="simpara">The <span class="strong"><strong>Properties</strong></span> view lists all of the selected node&#8217;s properties
for you to edit. For EIPs, the <span class="strong"><strong>Details</strong></span> tab lists all of a pattern&#8217;s
properties. For components from the <span class="strong"><strong>Components</strong></span> drawer, the
<span class="strong"><strong>Details</strong></span> tab lists the general properties and those that require a
value, and the <span class="strong"><strong>Advanced</strong></span> tab lists additional properties grouped
according to function.</p><p class="simpara">The <span class="strong"><strong>Documentation</strong></span> tab describes the pattern and each of its
properties.</p></li><li class="listitem">Edit the fields in the <span class="strong"><strong>Properties</strong></span> view to configure the
node.</li><li class="listitem">When done, save your work by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> from the menu bar.</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderRemovePattern"></a>Removing patterns from a route</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_9"></a>Overview</h4></div></div></div><p>As you develop and update a route, you may need to remove one or more of the route&#8217;s
nodes. The node&#8217;s
<span class="inlinemediaobject"><img src="./images/garbageIcon.png" alt="garbageIcon"></span> icon makes this easy to do. When you delete a node from the canvas,
all of its connections with other nodes in the route are also deleted, and the node is
removed from the corresponding route element in the context
file.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can also remove a node by opening its context menu and selecting
<span class="strong"><strong>Remove</strong></span>.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_5"></a>Procedure</h4></div></div></div><p>To remove a node from a route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Select the node you want to delete.</li><li class="listitem">Click its
<span class="inlinemediaobject"><img src="./images/garbageIcon.png" alt="garbageIcon"></span> icon.</li><li class="listitem">Click <span class="strong"><strong>Yes</strong></span> when asked if you are sure you want to delete
this element.</li></ol></div><p>The node and all of its connections are deleted from the canvas, and the node is removed
from its corresponding route element in the context
file.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_related_topics_4"></a>Related topics</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderAddPattern" title="Adding patterns to a route">Adding patterns to a route</a></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderRemoveRoute"></a>Deleting a route</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_10"></a>Overview</h4></div></div></div><p>In some cases you made need to delete an entire route from your routing context. The Route
container&#8217;s
<span class="inlinemediaobject"><img src="./images/garbageIcon.png" alt="garbageIcon"></span> icon makes this easy to do. When you delete a route, all of the
nodes inside the Route container are also deleted, and the corresponding route element in the context file is removed.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can also remove a route using the Route container&#8217;s context menu and selecting
<span class="strong"><strong>Remove</strong></span>.</p></td></tr></table></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>You cannot undo this operation.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_6"></a>Procedure</h4></div></div></div><p>To delete a route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">If the routing context contains more than one route, first select the route you want
to delete in the <span class="strong"><strong>Project Explorer</strong></span> view.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/routeEntriesProjectExplorer.png" alt="routeEntriesProjectExplorer"></div></div></li><li class="listitem"><p class="simpara">On the canvas, click the Route container&#8217;s
<span class="inlinemediaobject"><img src="./images/garbageIcon.png" alt="garbageIcon"></span> icon.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/routeDelete.png" alt="routeDelete"></div></div></li><li class="listitem">Click <span class="strong"><strong>Yes</strong></span> when asked if you are sure you want to delete
this element.</li></ol></div><p>The route is removed from the canvas, from the context file, and from the
<span class="strong"><strong>Project Explorer</strong></span> view.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderAddBeans"></a>Manually adding beans and configuration</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_11"></a>Overview</h4></div></div></div><p>Many routing patterns rely on references to Java objects (beans) for configuration or
for implementation details. You manually add the beans into the routing context file by
using the route editor&#8217;s <span class="strong"><strong>Source</strong></span> tab. However, this approach is not
recommended because it is error prone. The recommendation is to use the
<span class="strong"><strong>Configurations</strong></span> tab. See <a class="xref" href="RiderDevPart.html#RiderAddGlobalCnfg" title="Adding global endpoints, data formats, or beans">Adding global endpoints, data formats, or beans</a>.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_7"></a>Procedure</h4></div></div></div><p>To add beans to your routing context file:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Open your routing context file in the route editor.</li><li class="listitem">Click the <span class="strong"><strong>Source</strong></span> tab at the bottom of the route editor&#8217;s
canvas so you can edit the XML that defines the route.</li><li class="listitem"><p class="simpara">Enter the bean elements needed by your route before
the camelContext element.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Use the id attribute to identify the bean,
not the name attribute.</p></td></tr></table></div><p class="simpara">For example:</p><pre class="screen">&lt;!-- Configure the Inbound SAP Connections --&gt;
 &lt;bean id="sap-configuration" class="org.{prodname}source.camel.component.sap.SapConnectionConfiguration" activation="eager"&gt;
     &lt;property name="destinationDataStore"&gt;
         &lt;map&gt;
             &lt;entry key="quickstartDest" value-ref="quickstartDestinationData" /&gt;
         &lt;/map&gt;
     &lt;/property&gt;
     &lt;property name="serverDataStore"&gt;
         &lt;map&gt;
             &lt;entry key="quickstartServer" value-ref="quickstartServerData" /&gt;
         &lt;/map
     &lt;/property&gt;
 &lt;/bean&gt;

...

 &lt;camelContext trace="false" id="sap-srfc-destination-{prodname}-context" xmlns="http://camel.apache.org/schema/blueprint"&gt;
	 &lt;route id="sap-srfc-destination-{prodname}-route"&gt;
	     &lt;from uri="file:work/camel-sap/input"/&gt;
	     &lt;convertBodyTo type="java.lang.String"/&gt;
	     &lt;log message="${body}" loggingLevel="INFO"/&gt;
	     &lt;to uri="sap-srfc-destination:quickstartDest:BAPI_FLCUST_GETLIST"/&gt;
	     &lt;log message="${body}" loggingLevel="INFO"/&gt;
      &lt;/route&gt;
 &lt;/camelContext&gt;</pre></li><li class="listitem">Save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</li><li class="listitem">Click the <span class="strong"><strong>Design</strong></span> tab at the bottom of the route editor&#8217;s
canvas to return to the graphic display and the route diagram.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_related_topics_5"></a>Related topics</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderEditSource" title="The Source Tab">The Source Tab</a></li><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderAddGlobalCnfg" title="Adding global endpoints, data formats, or beans">Adding global endpoints, data formats, or beans</a></li><li class="listitem"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jbossfuse/7.0/single/apache_camel_development_guide/index" target="_top">Apache Camel Development Guide</a>, <span class="strong"><strong>Programming EIP Components</strong></span></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderAddGlobalCnfg"></a>Adding global endpoints, data formats, or beans</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_12"></a>Overview</h4></div></div></div><p>Some routes rely on shared configuration provided by global endpoints, global data
formats, or global beans. You can add global elements to the project&#8217;s routing context
file by using the route editor&#8217;s <span class="strong"><strong>Configurations</strong></span> tab.</p><p>To add global elements to your routing context file:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Open your routing context file in the route editor.</li><li class="listitem"><p class="simpara">At the bottom of the route editor, click the
<span class="strong"><strong>Configurations</strong></span> tab to display global configurations, if
there are any.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/ConfigurationsView.png" alt="ConfigurationsView"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Add</strong></span> to open the <span class="strong"><strong>Create a new global element</strong></span>
dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVAddButton.png" alt="CnfigsVAddButton"></div></div><p class="simpara">The options are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Endpoint&#8201;&#8212;&#8201;see <a class="xref" href="RiderDevPart.html#selectGlobalEndpoint" title="Adding a global endpoint">Adding a global endpoint</a>.</li><li class="listitem">Data Format&#8201;&#8212;&#8201;see <a class="xref" href="RiderDevPart.html#selectGlobalDF" title="Adding a global data format">Adding a global data format</a>.</li><li class="listitem">Bean&#8201;&#8212;&#8201;see <a class="xref" href="RiderDevPart.html#selectGlobalBean" title="Adding a global bean">Adding a global bean</a>.</li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="selectGlobalEndpoint"></a>Adding a global endpoint</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Create a new global element</strong></span> dialog, select
<span class="strong"><strong>Endpoint</strong></span> and
click <span class="strong"><strong>OK</strong></span> to open the <span class="strong"><strong>Select component</strong></span>
dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVSelectCamComponent1.png" alt="CnfigsVSelectCamComponent1"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>By default, the <span class="strong"><strong>Select component</strong></span> dialog opens with the <span class="strong"><strong>Show
only palette components</strong></span> option enabled. To see all
available components, disable this option.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <span class="strong"><strong>Grouped by categories</strong></span> option groups components by type.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVSelectCamComponentGrouped.png" alt="CnfigsVSelectCamComponentGrouped"></div></div></td></tr></table></div></li><li class="listitem"><p class="simpara"><a name="globalEndptSelect"></a>In the <span class="strong"><strong>Select component</strong></span> dialog, scroll through the list
of Camel components to find and select the component you want to add to the
context file, and then enter an ID for it in the <span class="strong"><strong>Id</strong></span>
field.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCamComponentSelected.png" alt="CnfigsVCamComponentSelected"></div></div><p class="simpara">In this example, the JMS component is selected and
<code class="literal">myJMS</code> is the <span class="strong"><strong>Id</strong></span> value.</p></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVmyEndptAdded2.png" alt="CnfigsVmyEndptAdded2"></div></div><p class="simpara">You can now set properties in the <span class="strong"><strong>Properties</strong></span> view as
needed.</p><p class="simpara">The tooling autofills <span class="strong"><strong>Id</strong></span> with the value you entered in
the component&#8217;s <code class="literal">Id</code> field in <a class="xref" href="RiderDevPart.html#globalEndptSelect">[globalEndptSelect]</a>. In this example, Camel builds the
<code class="literal">uri</code> (required field) starting with the component&#8217;s
schema (in this case, <code class="literal">jms:</code>), but you must specify the
<span class="strong"><strong>destinationName</strong></span> and the <span class="strong"><strong>destinationType</strong></span> to
complete the component&#8217;s <span class="strong"><strong>uri</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For the JMS component, the destination type defaults to <code class="literal">queue</code>. This default value
does not appear in the <code class="literal">uri</code> field on the
<span class="strong"><strong>Details</strong></span> page until you have entered a value in
<span class="strong"><strong>Destination Name</strong></span> (required field).</p></td></tr></table></div></li><li class="listitem">To complete the component&#8217;s uri, click <span class="guimenu">Advanced</span> &gt; <span class="guimenuitem">Path</span>.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Destination Name</strong></span> field, enter the name of the
destination endpoint (for example, <code class="literal">FOO.BAR</code>). In the
<span class="strong"><strong>Destination Type</strong></span> field, enter the endpoint
destination&#8217;s type (for example, <code class="literal">queue</code>,
<code class="literal">topic</code>), <code class="literal">temp:queue</code>, or
<code class="literal">temp:topic</code>).</p><div class="informalfigure"><div class="mediaobject"><img src="./images/JMSCompAdvanPathProp.png" alt="JMSCompAdvanPathProp"></div></div><p class="simpara">The <span class="strong"><strong>Properties</strong></span> view&#8217;s <span class="strong"><strong>Details</strong></span> and
<span class="strong"><strong>Advanced</strong></span> tabs provide access to all properties
available for configuring a particular component.</p></li><li class="listitem"><p class="simpara">For example, click the <span class="strong"><strong>Consumer (advanced)</strong></span> tab.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/JMSCompConsumerAdvanProps2.png" alt="JMSCompConsumerAdvanProps2"></div></div><p class="simpara">Enable the properties <span class="strong"><strong>Eager Loading Of
Properties</strong></span> and <span class="strong"><strong>Expose Listener
Session</strong></span>.</p></li><li class="listitem"><p class="simpara">In the route editor, switch to the <span class="strong"><strong>Source</strong></span> tab to see the
code that the tooling added to the context file (in this example, a configured
JMS endpoint), before the first route element.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsEndptSourceView.png" alt="CnfigsEndptSourceView"></div></div></li><li class="listitem">When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="selectGlobalDF"></a>Adding a global data format</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Create a new global element</strong></span> dialog, select
<span class="strong"><strong>Data Format</strong></span> and click <span class="strong"><strong>OK</strong></span>
to open the <span class="strong"><strong>Create a global Data
Format</strong></span> dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCreateGlobalDF1.png" alt="CnfigsVCreateGlobalDF1"></div></div><p class="simpara">The data format defaults to <code class="literal">avro</code>, the format at the top of
the list of those available.</p></li><li class="listitem">Open the <span class="strong"><strong>Data Format</strong></span> drop-down menu, and select the
format you want, for example, <code class="literal">xmljson</code>.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Id</strong></span> field, enter a name for the format, for example,
<span class="emphasis"><em>myDataFormat</em></span>).</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCreateGlobalDF2.png" alt="CnfigsVCreateGlobalDF2"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEditGlobalDFprops1.png" alt="CnfigsVEditGlobalDFprops1"></div></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> view, set property values as
appropriate for your project, for example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEditGlobalDFprops2.png" alt="CnfigsVEditGlobalDFprops2"></div></div></li><li class="listitem"><p class="simpara">In the route editor, click the <span class="strong"><strong>Source</strong></span> tab to see the code
that the tooling added to the context file. In this example, a configured
xmljson data format is before the first route
element.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVGlobalDFSourceV.png" alt="CnfigsVGlobalDFSourceV"></div></div></li><li class="listitem">When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="selectGlobalBean"></a>Adding a global bean</h4></div></div></div><p>A global bean enables out-of-route bean definitions that can be referenced from
anywhere in the route. When you copy a <span class="strong"><strong>Bean</strong></span> component from the
palette to the route, you can find defined global beans in the
<span class="strong"><strong>Properties</strong></span> view&#8217;s <span class="strong"><strong>Ref</strong></span> dropdown. Select the
global bean that you want the <span class="strong"><strong>Bean</strong></span> component to reference.</p><p>To add a global bean element:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Create a new global element</strong></span> window, select
<span class="strong"><strong>Bean</strong></span> and click <span class="strong"><strong>OK</strong></span> to open the
<span class="strong"><strong>Bean Definition</strong></span> dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCreateGlobalBean1.png" alt="CnfigsVCreateGlobalBean1"></div></div></li><li class="listitem">In the <span class="strong"><strong>Id</strong></span> field, enter an ID for the global bean, for example,
<span class="strong"><strong>TransformBean</strong></span>. The ID must be unique in the
configuration.</li><li class="listitem"><p class="simpara">Identify a bean class or a factory bean.</p><p class="simpara">To specify a factory bean, you must have already added another global bean
with a factory class specified. You can then select that global bean to
declare it as a global bean factory. One instance of the bean factory class
will be in the runtime. Other global beans can call factory methods on that
class to create their own instances of other classes.</p><p class="simpara">To fill the <span class="strong"><strong>Class</strong></span> field, do one of the following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Enter the name of a class that is in the project or in a referenced project.</li><li class="listitem">Click  <span class="strong"><strong>&#8230;&#8203;</strong></span> (Browse) to navigate to and select a class that is
in the project or in a referenced project.</li><li class="listitem">Click <span class="strong"><strong>+</strong></span> to define a new bean class
and add it as a global bean.</li></ul></div></li><li class="listitem"><p class="simpara">If the bean you are adding requires one or more arguments, in the <span class="strong"><strong>Constructor
Arguments</strong></span> section, for each argument:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">Click <span class="strong"><strong>Add</strong></span>.</li><li class="listitem">Optionally, in the <span class="strong"><strong>Type</strong></span> field, enter the type
of the argument. The default is <code class="literal">java.lang.String</code>.</li><li class="listitem">In the <span class="strong"><strong>Value</strong></span> field, enter the value of the
argument.</li><li class="listitem">Click <span class="strong"><strong>OK</strong></span>.</li></ol></div></li><li class="listitem"><p class="simpara">Optionally specify one or more properties that are accessible to the global bean. In the
<span class="strong"><strong>Bean Properties</strong></span> section, do the following for each property:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">Click <span class="strong"><strong>Add</strong></span>.</li><li class="listitem">In the <span class="strong"><strong>Name</strong></span> field, enter the name of the
property.</li><li class="listitem">In the <span class="strong"><strong>Value</strong></span> field, enter the value of the
property.</li><li class="listitem">Click <span class="strong"><strong>OK</strong></span>.</li></ol></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span> to add the global bean to the configuration. The global bean
ID you specified appears in the <span class="strong"><strong>Configurations</strong></span> tab, for
example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsBeanInList.png" alt="CnfigsBeanInList"></div></div></li><li class="listitem"><p class="simpara">Switch to the <span class="strong"><strong>Source</strong></span> tab to see the <code class="literal">bean</code> element that the
tooling added to the context file. For example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsBeanSourceV.png" alt="CnfigsBeanSourceV"></div></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Configurations</strong></span> tab to return to the list of global elements and
select a global bean to display its standard properties in the
<span class="strong"><strong>Properties</strong></span> view, for example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsBeanProperties.png" alt="CnfigsBeanProperties"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>To view or edit a property that you specified when you added a global bean, select the bean in
the <span class="strong"><strong>Configurations</strong></span> tab and then click
<span class="strong"><strong>Edit</strong></span>.</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Set global bean properties as needed:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Depends-on</strong></span> is a string that you can use to identify a bean that must be
created before this global bean. Specify the ID (name) of the depended
on bean. For example, if you are adding the <code class="literal">TransformBean</code>
and you set <span class="strong"><strong>Depends-on</strong></span> to
<code class="literal">ChangeCaseBean</code> then <code class="literal">ChangeCaseBean</code> must be
created and then <code class="literal">TransformBean</code> can be created. When the
beans are being destroyed then <code class="literal">TransformBean</code> is destroyed
first.</li><li class="listitem"><span class="strong"><strong>Factory-method</strong></span> is useful only when the global bean is a factory class. In
this situation, specify or select a static factory method to be called
when the bean is referenced.</li><li class="listitem"><span class="strong"><strong>Scope</strong></span> is <code class="literal">singleton</code> or
<code class="literal">prototype</code>. The default,
<code class="literal">singleton</code>, indicates that Camel uses the same
instance of the bean each time the bean is called. Specify
<code class="literal">prototype</code> when you want Camel to create a new
instance of the bean each time the bean is called.</li><li class="listitem"><span class="strong"><strong>Init-method</strong></span> lets you specify or select which of the bean&#8217;s <code class="literal">init()</code> methods to
call when the bean is referenced.</li><li class="listitem"><span class="strong"><strong>Destroy-method</strong></span> lets you specify or select which of the bean&#8217;s destory methods to call
when the processing performed by the bean is done.</li></ul></div></li><li class="listitem">When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="deleteGlobalComponent"></a>Deleting a global element</h4></div></div></div><p>The procedure is the same whether removing an endpoint, data format or bean that was
previously added to the routing context.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Configurations</strong></span> tab, select the global element
that you want to delete.</p><p class="simpara">For example, suppose you want to delete the data format
<code class="literal">myDataFormat</code> that was added in <a class="xref" href="RiderDevPart.html#selectGlobalDF" title="Adding a global data format">Adding a global data format</a>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVDFSelectDelete.png" alt="CnfigsVDFSelectDelete"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Delete</strong></span>.</p><p class="simpara">The global element <code class="literal">myDataFormat</code> disappears from the
<span class="strong"><strong>Configurations</strong></span> tab.</p></li><li class="listitem"><p class="simpara">Switch to the <span class="strong"><strong>Source</strong></span> tab to check that the tooling
removed the XML code from the routing context.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsDelDFSourceV.png" alt="CnfigsDelDFSourceV"></div></div></li><li class="listitem">When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</li></ol></div><p>You cannot perform an undo operation for deletion of a global element. If you inadvertently
delete a global element that you want to keep in the configuration you might be able
to undo the deletion by closing the context file without saving it. If this is not
feasible then re-add the inadvertently deleted global element.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="editGlobalComponent"></a>Editing a global element</h4></div></div></div><p>The procedure is the same whether modifying the properties of an endpoint, data format
or bean that you added to the routing context.</p><p>Typically, you do not want to change the ID of a global element. If the global element is
already in use in a running route, changing the ID can break references to the
global element.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Configurations</strong></span> tab, select the global element that
you want to edit.</p><p class="simpara">For example, to edit the endpoint <code class="literal">myJMS</code> that was added in
<a class="xref" href="RiderDevPart.html#selectGlobalEndpoint" title="Adding a global endpoint">Adding a global endpoint</a>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptEditSelect.png" alt="CnfigsVEndptEditSelect"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Edit</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptClickEdit.png" alt="CnfigsVEndptClickEdit"></div></div><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> view, modify the element&#8217;s properties
as needed.</p></li><li class="listitem"><p class="simpara">For example, open the <span class="guimenu">Advanced</span> &gt; <span class="guimenuitem">Consumer</span> tab, and change the value of <span class="strong"><strong>Concurrent
Consumers</strong></span> to <code class="literal">2</code>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsEditEndpntConcurConsume2.png" alt="CnfigsEditEndpntConcurConsume2"></div></div></li><li class="listitem"><p class="simpara">In the route editor, click the <span class="strong"><strong>Source</strong></span> tab and check that
the tooling added the property <code class="literal">concurrentConsumers=2</code> to the routing
context:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptEditSourceV.png" alt="CnfigsVEndptEditSourceV"></div></div></li><li class="listitem">When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_related_topics_6"></a>Related topics</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderAddBeans" title="Manually adding beans and configuration">Manually adding beans and configuration</a></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Manually adding a global element is possible but not recommended because doing so is error
prone. The recommendation is to use the <span class="strong"><strong>Configurations</strong></span> tab in
the route editor.</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderEditPrefs"></a>Configuring the route editor</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_13"></a>Overview</h4></div></div></div><p>Using Fuse preference settings, you can specify options for the route editor&#8217;s behavior and user interface:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">The default language to use for expressions in Enterprise Integration Patterns (EIPs)</li><li class="listitem">The direction (to the right or down) in which patterns flow on the Design canvas when you create routes</li><li class="listitem">Whether the Design canvas displays a grid overlay in the background of the canvas.</li><li class="listitem">The method for labeling nodes on the Design canvas</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For this release, there is an additional option for viewing a <span class="strong"><strong>REST</strong></span> tab (hidden by default) in the route editor. The REST tab is a Technical Preview feature. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p><p>For more information on Red Hat Technology Preview features support scope, see <a class="link" href="https://access.redhat.com/support/offerings/techpreview/" target="_top">https://access.redhat.com/support/offerings/techpreview/</a>.</p><p>For more information on the REST tab, see <a class="xref" href="RiderDevPart.html#RESTdsl" title="Viewing REST DSL components">Viewing REST DSL components</a>.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_8"></a>Procedure</h4></div></div></div><p>To configure the route editor:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Open the <span class="strong"><strong>Editor</strong></span> preferences window:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">On Linux and Windows machines, select  <span class="strong"><strong>Windows</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse Tooling</strong></span> &#8594; <span class="strong"><strong>Editor</strong></span>.</li><li class="listitem"><p class="simpara">On OS X, select <span class="strong"><strong>JBoss Developer Studio</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse Tooling</strong></span> &#8594; <span class="strong"><strong>Editor</strong></span>.</p><p class="simpara"><span class="inlinemediaobject"><img src="./images/PreferencesEditor.png" alt="PreferencesEditor"></span></p></li></ul></div></li><li class="listitem">To select the default language that you want to use for expressions in Enterprise Integration Pattern (EIP) components, select a language from the drop-down list. The default is <span class="emphasis"><em>Simple</em></span>.</li><li class="listitem">To specify the direction in which you want the route editor to align the patterns in a route, select <span class="strong"><strong>Down</strong></span> or <span class="strong"><strong>Right</strong></span>. The default is <span class="emphasis"><em>Down</em></span>.</li><li class="listitem">To enable or disable displaying a grid overlay on the background of the canvas, check the box next to <span class="strong"><strong>Show diagram grid in Routes Editor</strong></span>. The default is <span class="emphasis"><em>enabled</em></span>.</li><li class="listitem"><p class="simpara">To enable or disable using component IDs as labels in the route editor&#8217;s <span class="strong"><strong>Design</strong></span> tab, check the box next to <span class="strong"><strong>Use ID values for component labels</strong></span>. The default is <span class="emphasis"><em>disabled</em></span>.</p><p class="simpara">If you check this option and also specify a preferred label for a component (see Step 6), then the preferred label is used for that component instead of the ID value.</p></li><li class="listitem"><p class="simpara">To use a parameter as the label for a component (except for endpoints, such as <span class="strong"><strong>File</strong></span> nodes) in the route editor&#8217;s <span class="strong"><strong>Design</strong></span> tab:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Preferred labels</strong></span> section, click <span class="strong"><strong>Add</strong></span>. The <span class="strong"><strong>New Preferred Label</strong></span> dialog opens.</p><p class="simpara"><span class="inlinemediaobject"><img src="./images/NewPreferredLabel.png" alt="NewPreferredLabel"></span></p></li><li class="listitem">Select a <span class="strong"><strong>Component</strong></span> and then select the <span class="strong"><strong>Parameter</strong></span> to use as the label for the component.</li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>OK</strong></span>. The component and parameter pairs are listed in the Editor Preferences window.</p><p class="simpara"><span class="inlinemediaobject"><img src="./images/PreferredLabelsList.png" alt="PreferredLabelsList"></span></p><p class="simpara">You can optionally <span class="strong"><strong>Edit</strong></span> and <span class="strong"><strong>Remove</strong></span> component labels.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you check the <span class="strong"><strong>Use ID values for component labels</strong></span> option, it applies to all components except for the components listed in the <span class="strong"><strong>Preferred labels</strong></span> section.</p></td></tr></table></div></li></ol></div></li><li class="listitem">Click <span class="strong"><strong>Apply and Close</strong></span> to apply the changes to the <span class="strong"><strong>Editor</strong></span> preferences and close the <span class="strong"><strong>Preferences</strong></span> window.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can restore the route editor&#8217;s original defaults at any time by returning to the
<span class="strong"><strong>Editor</strong></span> preferences dialog and clicking <span class="strong"><strong>Restore Defaults</strong></span>.</p></td></tr></table></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderEditSource"></a>The Source Tab</h2></div></div></div><p>The tooling&#8217;s <span class="strong"><strong>Source</strong></span> tab displays the contents of a routing context
<code class="literal">.xml</code> file.</p><div class="figure"><a name="sourceView"></a><p class="title"><b>Figure&nbsp;7.&nbsp;Source tab</b></p><div class="figure-contents"><div class="mediaobject"><img src="./images/SourceView.png" alt="route editor&#8217;s Source tab"></div></div></div><br class="figure-break"><p>The <span class="strong"><strong>Source</strong></span> tab is useful for editing and adding any configuration,
comments, or beans to the routing context file. The content assist feature helps you when
working with configuration files. In the <span class="strong"><strong>Source</strong></span> tab,
press <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Space</strong></span>
to see a list of possible values that can be inserted into your project.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RESTdsl"></a>Viewing REST DSL components</h2></div></div></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>The Red Hat Fuse Tooling <span class="strong"><strong>REST</strong></span> tab in the Camel Editor is a Technology Preview feature only.</p><p>Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p><p>For more information on Red Hat Technology Preview features support scope, see <a class="link" href="https://access.redhat.com/support/offerings/techpreview/" target="_top">https://access.redhat.com/support/offerings/techpreview/</a>.</p></td></tr></table></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_overview_14"></a>Overview</h3></div></div></div><p>This Technical Preview feature provides a read-only graphical view of Camel REST DSL components. To define or delete the REST elements, you must edit the code in the Camel Editor&#8217;s <span class="strong"><strong>Source</strong></span> tab.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In a future release, for a Spring-based or Blueprint-based XML configuration, you will be able to define and remove REST DSL components in the REST tab.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_hidden_by_default"></a>Hidden by default</h3></div></div></div><p>By default, the read-only Technical Preview of the REST tab in the Camel Editor is hidden.</p><p>To view the REST tab:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In Red Hat Developer Studio, open the <span class="strong"><strong>Editor</strong></span> preferences dialog:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">On Linux and Windows machines: Select  <span class="strong"><strong>Windows</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse Tooling</strong></span> &#8594; <span class="strong"><strong>Editor</strong></span>.</li><li class="listitem">On OS X:  Select <span class="strong"><strong>JBoss Developer Studio</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse Tooling</strong></span> &#8594; <span class="strong"><strong>Editor</strong></span>.</li></ul></div></li><li class="listitem"><p class="simpara">Check the <span class="strong"><strong>Enable Read Only Tech Preview REST DSL tab</strong></span> option.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/EditorPrefsREST.png" alt="REST tab with no content"></div></div></li><li class="listitem">Click <span class="strong"><strong>Apply and Close</strong></span>.</li><li class="listitem"><p class="simpara">To see the REST tab, in Developer Studio close the Editor view and then reopen it .</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Because this Technical Preview feature is read-only, all fields are greyed out and the
<span class="inlinemediaobject"><img src="images/add_icon.png" alt="Add"></span> and <span class="inlinemediaobject"><img src="images/delete_icon.png" alt="Delete"></span> icons are disabled. You only see content in the <span class="strong"><strong>REST</strong></span> tab if the CamelContext file contains REST DSL components and it is open in the Editor view.</p></td></tr></table></div><div class="informalfigure"><div class="mediaobject"><img src="./images/RESTtabEmpty.png" alt="RESTtabEmpty"></div></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_viewing_rest_dsl_components"></a>Viewing REST DSL components</h3></div></div></div><p>The <span class="strong"><strong>REST</strong></span> tab has three main sections that correspond to the different parts of the REST DSL in the Camel configuration:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">REST Configuration</li><li class="listitem">REST Elements</li><li class="listitem">REST Operations</li></ul></div><p>The <span class="strong"><strong>REST Configuration</strong></span> section displays these configuration options:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Component</strong></span>&#8201;&#8212;&#8201;The Camel component to use for the REST transport.</li><li class="listitem"><span class="strong"><strong>Context Path</strong></span>&#8201;&#8212;&#8201;Sets a leading context-path the REST services will be using. You can use this option when using components such as Servlet where the deployed web application is deployed using a context-path.</li><li class="listitem"><span class="strong"><strong>Port</strong></span>&#8201;&#8212;&#8201;The port number to use for exposing the REST service.</li><li class="listitem"><span class="strong"><strong>Binding Mode</strong></span>&#8201;&#8212;&#8201;Enables binding mode for JSON or XML format messages. Possible values are: <span class="strong"><strong>off</strong></span> (the default), <span class="strong"><strong>auto</strong></span>, <span class="strong"><strong>json</strong></span>, <span class="strong"><strong>xml</strong></span>, or <span class="strong"><strong>json_xml</strong></span>.</li><li class="listitem"><span class="strong"><strong>Host</strong></span>&#8201;&#8212;&#8201;The hostname to use for exposing the REST service.</li></ul></div><p>The <span class="strong"><strong>REST Elements</strong></span> section provides a list of REST elements. When you click a REST element, its associated operations (for example, <code class="literal">GET</code>, <code class="literal">POST</code>, <code class="literal">PUT</code>, and <code class="literal">DELETE</code>) are listed in the REST Operations section.</p><p>The following figures shows a read-only graphical view and the corresponding source code view of an example <code class="literal">blueprint.xml</code> file containing Camel REST DSL components.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/RESTtab.png" alt="RESTtab"></div></div><div class="informalfigure"><div class="mediaobject"><img src="./images/RESTsourcetab.png" alt="RESTsourcetab"></div></div><p>For more information about the Camel REST DSL, go to the
&#8220;Defining REST services&#8221; section of the <span class="emphasis"><em>Apache Camel Development Guide</em></span>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="newCamelTestCase"></a>Creating a new Apache Camel JUnit test case</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_overview_15"></a>Overview</h3></div></div></div><p>A common way of testing routes is to use JUnit. The design time tooling includes a
wizard that simplifies creating a JUnit test case for your routes. The wizard uses the
endpoints you specify to generate the starting point code and configuration for the
test.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>After you create the boilerplate JUnit test case, you need to modify it to add
expectations and assertions specific to the route that you&#8217;ve created or modified,
so the test is valid for the route.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_prerequisites_9"></a>Prerequisites</h3></div></div></div><p>Before you create a new JUnit test case, you need to perform a preliminary
task:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">If you are replacing an existing JUnit test case, you need to delete it before you create a
new one. See <a class="xref" href="RiderDevPart.html#ugDeleteJUnitFile" title="Deleting and existing JUnit test case">Deleting and existing JUnit test case</a>.</li><li class="listitem">If you are creating a new JUnit test case in a project that hasn&#8217;t one, you need to first
create the <span class="emphasis"><em>project_root</em></span><code class="literal">/src/test/java</code>
folder for the test case that is included in the build path. See <a class="xref" href="RiderDevPart.html#ugAddTestJavaFolder" title="Creating and adding the src/test/java folder to the build path">Creating and adding the <code class="literal">src/test/java</code> folder to the build path</a>.</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="ugDeleteJUnitFile"></a>Deleting and existing JUnit test case</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, expand the project&#8217;s root
node to expose the
<span class="emphasis"><em>&lt;root_project&gt;</em></span><code class="literal">/src/test/java</code>
folder.</li><li class="listitem"><p class="simpara">Locate the JUnit test case file in the <code class="literal">/src/test/java</code>
folder.</p><p class="simpara">Depending on which DSL the project is based on, the JUnit test case file is
named <code class="literal">BlueprintXmlTest.java</code> or
<code class="literal">CamelContextXmlTest.java</code>.</p></li><li class="listitem"><p class="simpara">Right-click the JUnit test case <code class="literal">.java</code> file to open the context menu, and then
select <span class="strong"><strong>Delete</strong></span>.</p><p class="simpara">The JUnit test case <code class="literal">.java</code> file disappears from the
<span class="strong"><strong>Project Explorer</strong></span> view.</p><p class="simpara">You can now <a class="link" href="RiderDevPart.html#ugCreateJUnitTest" title="Creating a JUnit test case">create a new JUnit test case</a>.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="ugAddTestJavaFolder"></a>Creating and adding the <code class="literal">src/test/java</code> folder to the build path</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, right-click the project&#8217;s
root to open the context menu.</li><li class="listitem">Select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Folder</span> to open the <span class="strong"><strong>Create a new folder resource</strong></span> wizard.</li><li class="listitem"><p class="simpara">In the wizard&#8217;s project tree pane, expand the project&#8217;s root node and select
the <code class="literal">src</code> folder.</p><p class="simpara">Make sure <span class="emphasis"><em>&lt;project_root&gt;</em></span><code class="literal">/src</code> appears in the <span class="strong"><strong>Enter or
select the parent folder</strong></span>
field.</p></li><li class="listitem">In <span class="strong"><strong>Folder name</strong></span>, enter <code class="literal"><span class="strong"><strong>/test/java</strong></span></code>.
This folder will store the new JUnit test case you create.</li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><p class="simpara">In the <span class="strong"><strong>Project Explorer</strong></span> view, the new
<code class="literal">src/test/java</code> folder appears under the
<code class="literal">src/main/resources</code> folder. You can verify that this
folder is on the class path by opening its context menu and selecting
<span class="strong"><strong>Build Path</strong></span>. If <span class="strong"><strong>Remove from Build
Path</strong></span> is a menu option, you know the
<code class="literal">src/test/java</code> folder is on the class path.</p><p class="simpara">You can now <a class="link" href="RiderDevPart.html#ugCreateJUnitTest" title="Creating a JUnit test case">create a new JUnit test case</a>.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="ugCreateJUnitTest"></a>Creating a JUnit test case</h3></div></div></div><p>To create a new JUnit test case for your route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, select the routing context
<code class="literal">.xml</code> file in your project.</li><li class="listitem"><p class="simpara">Right-click it to open the context menu, and then select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Camel Test Case</span> to open the <span class="strong"><strong>New Camel JUnit Test Case</strong></span> wizard,
as shown in <a class="xref" href="RiderDevPart.html#CmlTestCaseWiz" title="Figure&nbsp;8.&nbsp;New Camel JUnit Test Case wizard">Figure&nbsp;8, &#8220;New Camel JUnit Test Case wizard&#8221;</a>.</p><div class="figure"><a name="CmlTestCaseWiz"></a><p class="title"><b>Figure&nbsp;8.&nbsp;New Camel JUnit Test Case wizard</b></p><div class="figure-contents"><div class="mediaobject"><img src="./images/newCamTstCase.png" alt="Entry page of the New Camel JUnit Test Case wizard"></div></div></div><br class="figure-break"><p class="simpara">Alternatively, you can open the wizard by selecting <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>New</strong></span> &#8594; <span class="strong"><strong>Other</strong></span> &gt; <span class="strong"><strong>Fuse</strong></span> &gt; <span class="strong"><strong>Camel Test Case</strong></span> from the menu bar.</p></li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Source folder</strong></span>, accept the default location of the
source code for the test case, or enter another location.</p><p class="simpara">You can click
<span class="inlinemediaobject"><img src="./images/BrowseButton.jpg" alt="Browse button"></span> to search for a location.</p></li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Package</strong></span>, accept the default package name for the
generated test code, or enter another package name.</p><p class="simpara">You can click
<span class="inlinemediaobject"><img src="./images/BrowseButton.jpg" alt="Browse button"></span> to search for a package.</p></li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Camel XML file under test</strong></span>, accept the default pathname
of the routing context file that contains the route you want to test, or enter
another pathname.</p><p class="simpara">You can click
<span class="inlinemediaobject"><img src="./images/BrowseButton.jpg" alt="Browse button"></span> to search for a context file.</p></li><li class="listitem">In <span class="strong"><strong>Name</strong></span>, accept the default name for the generated test
class, or enter another name.</li><li class="listitem">Select the method stubs you want to include in the generated code.</li><li class="listitem">If you want to include the default generated comments in the generated code,
check the <span class="strong"><strong>Generate comments</strong></span> box.</li><li class="listitem"><p class="simpara">Click
<span class="inlinemediaobject"><img src="./images/NextButton.jpg" alt="Next button"></span> to open the  <span class="strong"><strong>Test Endpoints</strong></span> page. For
example, <a class="xref" href="RiderDevPart.html#CmlTestEndpts" title="Figure&nbsp;9.&nbsp;New Camel JUnit Test Case page">Figure&nbsp;9, &#8220;New Camel JUnit Test Case page&#8221;</a> shows a route&#8217;s input and output file
endpoints selected.</p><div class="figure"><a name="CmlTestEndpts"></a><p class="title"><b>Figure&nbsp;9.&nbsp;New Camel JUnit Test Case page</b></p><div class="figure-contents"><div class="mediaobject"><img src="./images/newCamTstEndpts.png" alt="Example Test Endpoints page"></div></div></div><br class="figure-break"></li><li class="listitem">Under <span class="strong"><strong>Available endpoints</strong></span>, select the endpoints you want
to test. Click the checkbox next to any selected endpoint to deselect it.</li><li class="listitem"><p class="simpara">Click
<span class="inlinemediaobject"><img src="./images/FinishButton.jpg" alt="Finish button"></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If prompted, add JUnit to the build path.</p></td></tr></table></div></li></ol></div><p>The artifacts for the test are added to your project and appear in the
<span class="strong"><strong>Project Explorer</strong></span> view under <code class="literal">src/test/java</code>. The
class implementing the test case opens in the Java editor.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderRunning"></a>Running routes inside Red Hat Fuse Tooling</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#RiderRunningProfile">Running routes as a local Camel context</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderRunningMaven">Running routes using Maven</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderEditRunProfile">Working with runtime profiles</a></span></dt></dl></div><p>There are two ways to run your routes using the tooling:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderRunningProfile" title="Running routes as a local Camel context">Running routes as a local Camel context</a></li><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderRunningMaven" title="Running routes using Maven">Running routes using Maven</a></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderRunningProfile"></a>Running routes as a local Camel context</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_16"></a>Overview</h4></div></div></div><p>The simplest way to run an Apache Camel route is as a <span class="strong"><strong>Local Camel
Context</strong></span>. This method enables you to launch the route directly from the
<span class="strong"><strong>Project Explorer</strong></span> view&#8217;s context menu. When you run a route from the
context menu, the tooling automatically creates a runtime profile for you. You can also create
a custom runtime profile for running your route.</p><p>Your route runs as if it were invoked directly from the command line and uses Apache Camel&#8217;s
embedded Spring container. You can configure a number of the runtime parameters by editing the
runtime profile.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_9"></a>Procedure</h4></div></div></div><p>To run a route as a local Camel context:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, select a routing context
file.</li><li class="listitem"><p class="simpara">Right-click it to open the context menu, and then select <span class="guimenu">Run As</span> &gt; <span class="guimenuitem">Local Camel Context</span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Selecting <span class="strong"><strong>Local Camel Context (without tests)</strong></span> directs the tooling
to run the project without performing validation tests, which may be faster.</p></td></tr></table></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_result"></a>Result</h4></div></div></div><p>The <span class="strong"><strong>Console</strong></span> view displays the output generated from running the
route.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_related_topics_7"></a>Related topics</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderNewRunProfile" title="Editing a Local Camel Context runtime profile">Editing a Local Camel Context runtime profile</a></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderRunningMaven"></a>Running routes using Maven</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_17"></a>Overview</h4></div></div></div><p>If the project containing your route is a Maven project, you can use the m2e plug-in to
run your route. Using this option, you can execute any Maven goals, before the route
runs.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_10"></a>Procedure</h4></div></div></div><p>To run a route using Maven:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, select the root of the project
.</li><li class="listitem"><p class="simpara">Right-click it to open the context menu, and then select <span class="guimenu">Run As</span> &gt; <span class="guimenuitem">Maven build</span>.</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">The first time you run the project using Maven, the <span class="strong"><strong>Edit Configuration and
launch</strong></span> editor opens, so you can create a Maven runtime
profile.</p><p class="simpara">To create the runtime profile, on the <span class="strong"><strong>Maven</strong></span> tab:</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">Make sure the route directory of your Apache Camel project appears in the
<span class="strong"><strong>Base directory:</strong></span> field.</p><p class="simpara">For example, on Linux the root of your project is similar to <code class="literal">~/workspace/simple-router</code>.</p></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Goals:</strong></span> field, enter
<code class="literal">camel:run</code>.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>If you created your project using the Java DSL, enter
<code class="literal">exec:java</code> in the <span class="strong"><strong>Goals:</strong></span> field.</p></td></tr></table></div></li><li class="listitem">Click <span class="strong"><strong>Apply</strong></span> and then <span class="strong"><strong>Run</strong></span>.</li></ol></div></li><li class="listitem">Subsequent Maven runs use this profile, unless you modify it between runs.</li></ol></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_results"></a>Results</h4></div></div></div><p>The <span class="strong"><strong>Console</strong></span> view displays the output from the Maven run.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_related_topics_8"></a>Related topics</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderMvnRunProfile" title="Editing a Maven runtime profile">Editing a Maven runtime profile</a></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderEditRunProfile"></a>Working with runtime profiles</h3></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#RiderNewRunProfile">Editing a Local Camel Context runtime profile</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderMvnRunProfile">Editing a Maven runtime profile</a></span></dt></dl></div><p>Red Hat Fuse Tooling stores information
about the runtime environments for each project in <span class="emphasis"><em>runtime profiles</em></span>.
The runtime profiles keep track of such information as which Maven goals to call, the Java
runtime environment to use, any system variables that need to be set, and so on. A project
can have more than one runtime profile.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="RiderNewRunProfile"></a>Editing a Local Camel Context runtime profile</h4></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_overview_18"></a>Overview</h5></div></div></div><p>A <span class="strong"><strong>Local Camel Context</strong></span> runtime profile configures how Apache Camel is
invoked to execute a route. A <span class="strong"><strong>Local Camel Context</strong></span> runtime profile
stores the name of the context file in which your routes are defined, the name of the
<code class="literal">main</code> to invoke, the command line options passed into the JVM,
the JRE to use, the classpath to use, any environment variables that need to be set, and
a few other pieces of information.</p><p>The runtime configuration editor for a <span class="strong"><strong>Local Camel Context</strong></span> runtime
profile contains the following tabs:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Camel Context File</strong></span>&#8201;&#8212;&#8201;specifies the name of the new
configuration and the full path of the routing context file that contains your
routes.</li><li class="listitem"><span class="strong"><strong>JMX</strong></span>&#8201;&#8212;&#8201;specifies JMX connection details, including the JMX
URI and the user name and password (optional) to use to access it.</li><li class="listitem"><span class="strong"><strong>Main</strong></span>&#8201;&#8212;&#8201;specifies the fully qualified name of the project&#8217;s
base directory, a few options for locating the base directory, any goals required to
execute before running the route, and the version of the Maven runtime to use.</li><li class="listitem"><span class="strong"><strong>JRE</strong></span>&#8201;&#8212;&#8201;specifies the JRE and command line arguments to use
when starting the JVM.</li><li class="listitem"><span class="strong"><strong>Refresh</strong></span>&#8201;&#8212;&#8201;specifies how Maven refreshes the project&#8217;s
resource files after a run terminates.</li><li class="listitem"><span class="strong"><strong>Environment</strong></span>&#8201;&#8212;&#8201;specifies any environment variables that
need to be set.</li><li class="listitem"><span class="strong"><strong>Common</strong></span>&#8201;&#8212;&#8201;specifies how the profile is stored and the output
displayed.</li></ul></div><p>The first time an Apache Camel route is run as a <span class="strong"><strong>Local Camel Context</strong></span>,
Red Hat Fuse Tooling creates for the routing context
file a default runtime profile, which should not require editing.</p></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_accessing_the_local_camel_context_s_runtime_configuration_editor"></a>Accessing the Local Camel Context&#8217;s runtime configuration editor</h5></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, select the Camel context file for which you
want to edit or create a custom runtime profile.</li><li class="listitem">Right-click it to open the context menu, and then select <span class="guimenu">Run As</span> &gt; <span class="guimenuitem">Run Configurations</span> to open
the <span class="strong"><strong>Run Configurations</strong></span> dialog.</li><li class="listitem">In the <span class="strong"><strong>context selection</strong></span> pane, select <span class="strong"><strong>Local Camel Context</strong></span>, and then click
<span class="inlinemediaobject"><img src="./images/NewRunConfigButton.jpg" alt="New profile icon"></span> at the top, left of the <span class="strong"><strong>context
selection</strong></span> pane.</li><li class="listitem">In the <span class="strong"><strong>Name</strong></span> field, enter a new name for your runtime profile.</li></ol></div><div class="figure"><a name="runConfigsLCC"></a><p class="title"><b>Figure&nbsp;10.&nbsp;Runtime configuration editor for Local Camel Context</b></p><div class="figure-contents"><div class="mediaobject"><img src="./images/LCCruntimeCnfg.png" alt="Local camel context runtime configuration editor"></div></div></div><br class="figure-break"></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_setting_the_camel_context_file"></a>Setting the camel context file</h5></div></div></div><p>The <span class="strong"><strong>Camel Context File</strong></span> tab has one field, <span class="strong"><strong>Select
Camel Context file&#8230;&#8203;</strong></span>. Enter the full path to the routing context file that
contains your route definitions.</p><p>The <span class="strong"><strong>Browse</strong></span> button accesses the <span class="strong"><strong>Open
Resource</strong></span> dialog, which facilitates locating the target routing context file. This
dialog is preconfigured to search for files that contain Apache Camel routes.</p></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_changing_the_command_line_options"></a>Changing the command line options</h5></div></div></div><p>By default the only command line option passed to the JVM is:</p><pre class="screen">-fa <span class="emphasis"><em>context-file</em></span></pre><p>If you are using a custom main class you may need to pass in different options. To do so,
on the <span class="strong"><strong>Main</strong></span> tab, click the <span class="strong"><strong>Add</strong></span> button to enter a
parameter&#8217;s name and value. You can click the <span class="strong"><strong>Add Parameter</strong></span> dialog&#8217;s
<span class="strong"><strong>Variables&#8230;&#8203;</strong></span> button to display a list of variables that you can
select.</p><p>To add or modify JVM-specific arguments, edit the <span class="strong"><strong>VM arguments</strong></span> field
on the <span class="strong"><strong>JRE</strong></span> tab.</p></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_changing_where_output_is_sent"></a>Changing where output is sent</h5></div></div></div><p>By default, the output generated from running the route is sent to the
<span class="strong"><strong>Console</strong></span> view. But you can redirect it to a file instead.</p><p>To redirect output to a file:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Select the <span class="strong"><strong>Common</strong></span> tab.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Standard Input and Output</strong></span> pane, click the checkbox next
to the <span class="strong"><strong>Output File:</strong></span> field, and then enter the path to the
file where you want to send the output.</p><p class="simpara">The <span class="strong"><strong>Workspace</strong></span>, <span class="strong"><strong>File System</strong></span>, and
<span class="strong"><strong>Variables</strong></span> buttons facilitate building the path to
the output file.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_related_topics_9"></a>Related topics</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderRunningProfile" title="Running routes as a local Camel context">Running routes as a local Camel context</a></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="RiderMvnRunProfile"></a>Editing a Maven runtime profile</h4></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_overview_19"></a>Overview</h5></div></div></div><p>A Maven runtime profile configures how Maven invokes Apache Camel. A Maven runtime profile
stores the Maven goals to execute, any Maven profiles to use, the version of Maven to
use, the JRE to use, the classpath to use, any environment variables that need to be
set, and a few other pieces of information.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>The first time an Apache Camel route is run using Maven, you must create a default runtime
profile for it.</p></td></tr></table></div><p>The runtime configuration editor for a Fuse runtime profile contains the following
tabs:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Main</strong></span>&#8201;&#8212;&#8201;specifies the name of the new configuration, the fully
qualified name of the project&#8217;s base directory, a few options for locating the base
directory, any goals required to execute before running the route, and the version of the
Maven runtime to use.</li><li class="listitem"><span class="strong"><strong>JRE</strong></span>&#8201;&#8212;&#8201;specifies the JRE and command line arguments to use
when starting the JVM.</li><li class="listitem"><span class="strong"><strong>Refresh</strong></span>&#8201;&#8212;&#8201;specifies how Maven refreshes the project&#8217;s
resource files after a run terminates.</li><li class="listitem"><span class="strong"><strong>Source</strong></span>&#8201;&#8212;&#8201;specifies the location of any additional sources
that the project requires.</li><li class="listitem"><span class="strong"><strong>Environment</strong></span>&#8201;&#8212;&#8201;specifies any environment variables that
need to be set.</li><li class="listitem"><span class="strong"><strong>Common</strong></span>&#8201;&#8212;&#8201;specifies how the profile is stored and the output
displayed.</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_accessing_the_maven_runtime_configuration_editor"></a>Accessing the Maven runtime configuration editor</h5></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, select the root of the project for which
you want to edit or create a custom runtime profile.</li><li class="listitem">Right-click it to open the context menu, and then select <span class="guimenu">Run As</span> &gt; <span class="guimenuitem">Run Configurations</span> to open the <span class="strong"><strong>Run Configurations</strong></span> dialog.</li><li class="listitem">In the <span class="strong"><strong>context selection</strong></span> pane, select <span class="strong"><strong>Maven Build</strong></span>, and then click
<span class="inlinemediaobject"><img src="./images/NewRunConfigButton.jpg" alt="New profile icon"></span> at the top, left of the <span class="strong"><strong>context
selection</strong></span> pane.</li></ol></div><div class="figure"><a name="runConfigsMV"></a><p class="title"><b>Figure&nbsp;11.&nbsp;Runtime configuration editor for Maven</b></p><div class="figure-contents"><div class="mediaobject"><img src="./images/m2RunConfig.png" alt="Maven runtime configuration editor"></div></div></div><br class="figure-break"></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_changing_the_maven_goal"></a>Changing the Maven goal</h5></div></div></div><p>The most commonly used goal when running a route is <span class="strong"><strong>camel:run</strong></span>. It loads the
routes into a Spring container running in its own JVM.</p><p>The Apache Camel plug-in also supports a <span class="strong"><strong>camel:embedded</strong></span> goal that loads the
Spring container into the same JVM used by Maven. The advantage of this is that the
routes should bootstrap faster.</p><p>Projects based on Java DSL use the <span class="strong"><strong>exec:java</strong></span> goal.</p><p>If your POM contains other goals, you can change the Maven goal used by clicking the
<span class="strong"><strong>Configure&#8230;&#8203;</strong></span> button next to the <span class="strong"><strong>Maven Runtime</strong></span> field on the <span class="strong"><strong>Main</strong></span> tab. On
the <span class="strong"><strong>Installations</strong></span> dialog, you edit the <span class="strong"><strong>Global settings for &lt;selected_runtime&gt; installation</strong></span> field.</p></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_changing_the_version_of_maven"></a>Changing the version of Maven</h5></div></div></div><p>By default, Red Hat Fuse Tooling for Eclipse uses m2e, which is embedded in Eclipse. If you want to use a different
version of Maven or have a newer version installed on your development machine, you can
select it from the <span class="strong"><strong>Maven Runtime</strong></span> drop-down menu on the
<span class="strong"><strong>Main</strong></span> tab.</p></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_changing_where_the_output_is_sent"></a>Changing where the output is sent</h5></div></div></div><p>By default, the output from the route execution is sent to the
<span class="strong"><strong>Console</strong></span> view. But you can redirect it to a file instead.</p><p>To redirect output to a file:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Select the <span class="strong"><strong>Common</strong></span> tab.</li><li class="listitem"><p class="simpara">Click the checkbox next to the <span class="strong"><strong>Output File:</strong></span> field, and then enter
the path to the file where you want to send the output.</p><p class="simpara">The <span class="strong"><strong>Workspace</strong></span>, <span class="strong"><strong>File System</strong></span>, and
<span class="strong"><strong>Variables</strong></span> buttons facilitate building the path to
the output file.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="_related_topics_10"></a>Related topics</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderDevPart.html#RiderRunningMaven" title="Running routes using Maven">Running routes using Maven</a></li></ul></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderFisTools"></a>Getting Started with Fuse Integration Services</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="_overview_20"></a>Overview</h3></div></div></div><p>Fuse Integration Services (FIS) provides a set of tools and containerized xPaaS images
for developing, deploying, and managing microservices on OpenShift.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>For FIS projects, Fuse Tooling requires installation of the Red Hat
Container Development Kit (CDK) v3.<span class="emphasis"><em>x</em></span>. See
<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_container_development_kit/3.2/html-single/getting_started_guide/{" target="_top">NameOfCDKGettingStarted</a>} for instructions. In
addition to the prerequisites specified in this guide, you need to establish a Red Hat
account if you do not have one. Your Red Hat user name and password are required to
start the virtual OpenShift instance provided in the Red Hat Container Development
Kit.</p><p>You can easily get an account by registering on the <a class="link" href="https://access.redhat.com" target="_top">Red Hat Customer Portal</a>. Click
<span class="inlinemediaobject"><img src="./images/RH_acctIcon.png" alt="Account"></span> in the upper right corner of the white banner, and then
click
<span class="inlinemediaobject"><img src="./images/RH_acctRegBut.png" alt="RH acctRegBut"></span> on the <span class="strong"><strong>Login to Your Red Hat
Account</strong></span> page.</p></td></tr></table></div><p>Fuse Tooling enables you to develop and deploy FIS 2.0 projects using the s2i
binary workflow. In this workflow, the tooling builds your project locally, assembles it
into an image stream, then pushes the image stream to OpenShift, where it is used to
build the Docker container. Once the Docker container is built, OpenShift deploys it in
a pod.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>Fuse Tooling works only with the S2I binary workflow and only with
projects based on the Spring Boot framework.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Although Fuse Tooling can deploy FIS projects created using the tooling to remote
OpenShift servers, this chapter describes creating and deploying FIS projects to a
virtual OpenShift instance, installed locally using the Red Hat Container
Development Kit (CDK) v3.<span class="emphasis"><em>x</em></span>.</p></td></tr></table></div><p>Creating and deploying your first Fuse FIS project involves:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="RiderDevPart.html#CDE_serverAdd" title="Adding the Red Hat Container Development Kit server">Adding the Container Development Kit (CDK) to Servers
view</a></li><li class="listitem"><a class="link" href="RiderDevPart.html#CDE_serverStart" title="Starting the Container Development Environment (CDE) and virtual OpenShift server">Starting up the Container Development Environment
(CDE)</a></li><li class="listitem"><a class="link" href="RiderDevPart.html#OS_projectCreate" title="Creating a new OpenShift project">Creating a new OpenShift project</a></li><li class="listitem"><a class="link" href="RiderDevPart.html#FIS_projectCreate" title="Creating a new Fuse FIS project">Creating a new Fuse FIS project</a></li><li class="listitem"><a class="link" href="RiderDevPart.html#deployFISProject" title="Deploying the Fuse FIS project to OpenShift">Deploying the Fuse FIS project to OpenShift</a></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can also run a Fuse FIS project as a local Camel context, see <a class="xref" href="RiderDevPart.html#RiderRunningProfile" title="Running routes as a local Camel context">Running routes as a local Camel context</a>, and then connect to it in the <span class="strong"><strong>JMX
Navigator</strong></span> view, where you can monitor and test the routing context.
You can also run the Camel debugger on a Fuse FIS project (<a class="xref" href="RiderCamelDebugger.html" title="Debugging Routing Contexts"><i>Debugging Routing Contexts</i></a>) to expose and fix any
logic errors in the routing context.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="CDE_serverAdd"></a>Adding the Red Hat Container Development Kit server</h3></div></div></div><p>Add the Red Hat Container Development Kit to the <span class="strong"><strong>Servers</strong></span>
view:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">If necessary, switch to the <span class="strong"><strong>Fuse Integration</strong></span>
perspective.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If, in this or any other section in this chapter, a view described in a procedure is not open,
you can open it by clicking <span class="guimenu">Window</span> &gt; <span class="guisubmenu">Show View</span> &gt; <span class="guisubmenu">Other</span> &gt; <span class="guimenuitem">view_name</span> .</p></td></tr></table></div></li><li class="listitem"><p class="simpara"><a name="defaultServerName"></a>In the <span class="strong"><strong>Servers</strong></span> view, click the link <span class="strong"><strong>No servers
are available. Click this link to create a new server&#8230;&#8203;</strong></span> to open
the <span class="strong"><strong>Define a New Server</strong></span> wizard. This link appears only when
the <span class="strong"><strong>Servers</strong></span> view contains no server entry.</p><p class="simpara">Otherwise, right-click in the view to open the context menu, and then select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Server</span> to open the <span class="strong"><strong>Define a New Server</strong></span>
wizard.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DefNewSrvCDK.png" alt="DefNewSrvCDK"></div></div></li><li class="listitem"><p class="simpara">Select <span class="guimenu">Red Hat JBoss Middleware</span> &gt; <span class="guimenuitem">Red Hat Container Development Kit 3</span>.</p><p class="simpara">Accept the defaults for:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Server&#8217;s host
name</strong></span>&#8201;&#8212;&#8201;<code class="literal">localhost</code></li><li class="listitem"><span class="strong"><strong>Server name</strong></span>&#8201;&#8212;&#8201;<code class="literal">Container
Development Environment</code></li></ul></div></li><li class="listitem">Click <span class="strong"><strong>Next</strong></span> to open the <span class="strong"><strong>Red Hat Container
Development Environment</strong></span> page.</li><li class="listitem">Next to <span class="strong"><strong>Folder</strong></span>, click <span class="strong"><strong>Browse</strong></span>,
navigate to the location where you installed the Red Hat Container Development
Kit 3.<span class="emphasis"><em>x</em></span> and click <span class="strong"><strong>Open</strong></span>.</li><li class="listitem">Next to <span class="strong"><strong>Username</strong></span>, click <span class="strong"><strong>Add</strong></span> to open the
<span class="strong"><strong>Add a Credential</strong></span> page.</li><li class="listitem"><p class="simpara">Set the credentials this way:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Username</strong></span>&#8201;&#8212;&#8201;Enter the name you use to log into your Red Hat
account.</li><li class="listitem"><span class="strong"><strong>Always prompt for password</strong></span>&#8201;&#8212;&#8201;Leave as is (disabled).</li><li class="listitem"><span class="strong"><strong>Password</strong></span>&#8201;&#8212;&#8201;Enter the password you use to log into your Red Hat
account.</li></ul></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>OK</strong></span> to return to the <span class="strong"><strong>Red Hat
Container Development Environment</strong></span> page, which is now populated. For example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CDEdefUserFolder3.png" alt="CDEdefUserFolder3"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>. <span class="strong"><strong>Container Development Environment 3 [Stopped, Synchronized]</strong></span>
appears in the <span class="strong"><strong>Servers</strong></span> view.
<span class="strong"><strong>Container Development Environment 3</strong></span> is the default server
name when you add a CDK 3.<span class="emphasis"><em>x</em></span> server.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CDEsrvStoppedSyncd.png" alt="CDEsrvStoppedSyncd"></div></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="CDE_serverStart"></a>Starting the Container Development Environment (CDE) and virtual OpenShift server</h3></div></div></div><p>Starting the Container Development Environment (CDE) also starts
the virtual OpenShift server. Stopping the CDE also stops the virtual OpenShift
server.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Servers</strong></span> view, select <span class="strong"><strong>Container
Development Environment 3 [stopped, Synchronized]</strong></span>, and then click
<span class="inlinemediaobject"><img src="./images/run_exec.png" alt="run exec"></span> on the <span class="strong"><strong>Servers</strong></span> menu bar.</p><p class="simpara"><span class="strong"><strong>Console</strong></span> view opens and displays the status of the startup
process:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CDEstartTerminal.png" alt="CDEstartTerminal"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>On initial startup, the CDE asks whether you accept the untrusted SSL
certificate. Click <span class="strong"><strong>Yes</strong></span>.</p></td></tr></table></div><p class="simpara">When the startup process has finished, the <span class="strong"><strong>Servers</strong></span> view
displays:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CDEsrvStartedSyncd.png" alt="CDEsrvStartedSyncd"></div></div></li><li class="listitem"><p class="simpara">Switch to the <span class="strong"><strong>OpenShift Explorer</strong></span> view.</p><p class="simpara">The virtual OpenShift server instance, <code class="literal">developer</code>, is also running:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/OSEopenshift-devAutostart.png" alt="OSEopenshift devAutostart"></div></div><p class="simpara"><code class="literal"><a class="link" href="https://192.168.99.100:8443" target="_top">https://192.168.99.100:8443</a></code> is an example of a URL for the
OpenShift developer web console. Your installation displays the
URL for your instance. For more details, see <a class="xref" href="RiderDevPart.html#OS_webConsoleLogin" title="Accessing the OpenShift Web Console">Accessing the OpenShift Web Console</a>.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="OS_projectCreate"></a>Creating a new OpenShift project</h3></div></div></div><p>When you deploy your Fuse FIS project to OpenShift, it is published to the OpenShift
project you create here.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>OpenShift Explorer</strong></span> view, right-click the <span class="strong"><strong>developer</strong></span> entry,
to open the context menu.</li><li class="listitem">Select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Project</span> to open the <span class="strong"><strong>New OpenShift Project</strong></span> wizard.</li><li class="listitem"><p class="simpara"><a name="OSprojectName"></a>Set the new project&#8217;s properties this way:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Project Name</strong></span> field, enter the name for the project&#8217;s namespace on
the virtual OpenShift server.</p><p class="simpara">Only lower case letters, numbers, and dashes are
valid.</p></li><li class="listitem">In the <span class="strong"><strong>Display Name</strong></span> field, enter the name to display on the virtual
OpenShift web console&#8217;s <span class="strong"><strong>Overview</strong></span> page.</li><li class="listitem"><p class="simpara">Leave the <span class="strong"><strong>Description</strong></span> field as is.</p><p class="simpara">For example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/OpnShiftNewProjName2.png" width="500" height="400" alt="New Project Name"></div></div></li></ul></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><p class="simpara">The new OpenShift project (in this example, <span class="strong"><strong>New FIS Test
newtest</strong></span>) appears in the <span class="strong"><strong>OpenShift Explorer</strong></span>
tab, under, in this example, <span class="strong"><strong>developer <a class="link" href="https://192.168.99.100:8443" target="_top">https://192.168.99.100:8443</a></strong></span>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/OSEnewFISprojCreated.png" alt="OSEnewFISprojCreated"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>MyProject myproject</strong></span> is an initial example project included with
OpenShift.</p></td></tr></table></div><p class="simpara">With <span class="strong"><strong>New FIS Test newtest</strong></span> selected in the
<span class="strong"><strong>OpenShift Explorer</strong></span> view, the
<span class="strong"><strong>Properties</strong></span> view displays the project&#8217;s details. For
example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/OSEnewFISprojProps.png" alt="OSEnewFISprojProps"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When you deploy the project to OpenShift, the <span class="strong"><strong>Properties</strong></span> view gathers and
displays the same information about the project that the OpenShift web
console does.</p></td></tr></table></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="FIS_projectCreate"></a>Creating a new Fuse FIS project</h3></div></div></div><p>Before you create a new Fuse FIS project, you should enable
staging repositories. This is needed because some Maven artifacts
are not in default Maven repositories. To enable staging repositories,
select <span class="guimenu">Window</span> &gt; <span class="guisubmenu">Preferences</span> &gt; <span class="guisubmenu">Fuse Tooling</span> &gt; <span class="guimenuitem">Staging Repositories</span>.</p><p>To create a FIS project, use the <span class="strong"><strong>Spring Boot on OpenShift</strong></span> template:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Project Explorer</strong></span> view, right-click to open the
context menu and then select <span class="strong"><strong>New &#8594; Fuse Integration Project</strong></span> to open
the wizard&#8217;s <span class="strong"><strong>Choose a project name</strong></span>
page:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpProjectName1.png" width="500" height="400" alt="New Fuse Integration Project"></div></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Project Name</strong></span> field, enter a name that is unique to
the workspace you are using, for example,
<code class="literal"><span class="strong"><strong>myFISproject</strong></span></code>.</p><p class="simpara">Accept the defaults for the other options.</p></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Next</strong></span> to open the <span class="strong"><strong>Select a Target
Runtime</strong></span> page:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/NFPcamelVersion.png" width="500" height="400" alt="New Project Camel Version"></div></div><p class="simpara">Leave the defaults for <span class="strong"><strong>Target Runtime</strong></span> (<span class="emphasis"><em>No
Runtime selected</em></span>) and <span class="strong"><strong>Camel Version</strong></span>
(<span class="emphasis"><em>2.18.1.redhat-000021 (FIS 2.0 R3)</em></span>).</p></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Next</strong></span> to open the <span class="strong"><strong>Advanced Project
Setup</strong></span> page:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/nfpAdvanProjSetup1.png" width="500" height="400" alt="Advanced Project Setup"></div></div></li><li class="listitem"><p class="simpara">Select the <span class="strong"><strong>Simple log using Spring Boot - Spring DSL</strong></span> template.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/NFPadvProjSpringBoot.png" width="500" height="400" alt="Advanced Project Templates"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Because of the number of dependencies that are downloaded for a first-time Fuse FIS project,
building it can take some time.</p><p>If the <span class="strong"><strong>Fuse Integration</strong></span> perspective is not already open, Developer
Studio prompts you to indicate whether you want to open it now. Click
<span class="strong"><strong>Yes</strong></span>.</p></td></tr></table></div></li></ol></div><p>When the build is done the <span class="strong"><strong>Fuse Integration</strong></span> perspective displays
the project, for example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FIS_ProjCreatedFIP.png" alt="FIS ProjCreatedFIP"></div></div><p>At this point, you can:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="RiderDevPart.html#deployFISProject" title="Deploying the Fuse FIS project to OpenShift">Deploy the project on OpenShift</a></li><li class="listitem"><p class="simpara"><a class="xref" href="RiderDevPart.html#RiderRunningProfile" title="Running routes as a local Camel context">Running routes as a local Camel context</a> to verify that the routing
context runs successfully on your local machine</p><p class="simpara">Connecting to the running context in the <span class="strong"><strong>JMX
Navigator</strong></span> view (see <a class="xref" href="RiderDebugPart.html#connectJMXLocalProc" title="Viewing processes in a local JMX server">Viewing processes in a local JMX server</a>), you can monitor route components and
test whether the route performs as expected:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">View a route component&#8217;s JMX statistics&#8201;&#8212;&#8201;see <a class="xref" href="RiderDebugPart.html#FIDEJMXProps" title="Viewing a component&#8217;s JMX statistics">Viewing a component&#8217;s JMX statistics</a>.</li><li class="listitem">Edit the running route&#8201;&#8212;&#8201;see <a class="xref" href="RiderDebugPart.html#RiderManageEndpoints" title="Managing routing endpoints">Managing routing endpoints</a>.</li><li class="listitem">Suspend/resume the running route&#8201;&#8212;&#8201;see <a class="xref" href="RiderDebugPart.html#RiderManageRouteContexts" title="Managing routing contexts">Managing routing contexts</a></li><li class="listitem">Start/stop tracing on the running route&#8201;&#8212;&#8201;see <a class="xref" href="RiderDebugPart.html#RiderTracing" title="Tracing Routes">Tracing Routes</a></li></ul></div></li><li class="listitem">Run the Camel debugger on the project&#8217;s
<code class="literal">camel-context.xml</code> file to discover and fix logic
errors&#8201;&#8212;&#8201;see <a class="xref" href="RiderCamelDebugger.html" title="Debugging Routing Contexts"><i>Debugging Routing Contexts</i></a></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="deployFISProject"></a>Deploying the Fuse FIS project to OpenShift</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, right-click the project&#8217;s
root (in this example, <code class="literal">myFISproject</code>) to open the context
menu.</li><li class="listitem">Select <span class="guimenu">Run As</span> &gt; <span class="guimenuitem">Run Configurations</span> to open
the <span class="strong"><strong>Run Configurations</strong></span> wizard.</li><li class="listitem"><p class="simpara">In the sidebar menu, select <span class="guimenu">Maven Build</span> &gt; <span class="guisubmenu">Deploy &lt;projectname</span> &gt; <span class="guimenuitem">on OpenShift</span> (in this example, <span class="strong"><strong>Deploy myFISproject on OpenShift</strong></span>) to open the project&#8217;s default run configuration:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FIS_RunCnfgMain.png" alt="FIS RunCnfgMain"></div></div><p class="simpara">Leave the default settings as they are on the <span class="strong"><strong>Main</strong></span> tab.</p></li><li class="listitem"><p class="simpara">Open the <span class="strong"><strong>JRE</strong></span> tab to access the VM arguments:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FIS_RunCfgJRE.png" alt="FIS RunCfgJRE"></div></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>VM arguments</strong></span> pane, change the value of the
<code class="literal">-Dkubernetes.namespace=test</code> argument to match the
<code class="literal">Project name</code> you used for the OpenShift project when
you created it (<a class="link" href="RiderDevPart.html#OSprojectName">OpenShift project name</a> in
<a class="xref" href="RiderDevPart.html#OS_projectCreate" title="Creating a new OpenShift project">Creating a new OpenShift project</a>.</p><p class="simpara">In this example, change the default value <code class="literal">test</code> to
<code class="literal">newtest</code>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FIS_RunCfgVMargsChg.png" alt="FIS RunCfgVMargsChg"></div></div><p class="simpara">Depending on your OpenShift configuration, you may need to modify other`VM
arguments to support it:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara"><code class="literal">-Dkubernetes.master=https://192.168.99.1:8443</code></p><p class="simpara">When running multiple OpenShift instances or using a remote
instance, you need to specify the URL of the OpenShift instance
targeted for the deployment. The URL above is an example.</p></li><li class="listitem"><p class="simpara"><code class="literal">-Dkubernetes.trust.certificates=true</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">When using the CDK, this argument is
required. Leave it set to <code class="literal">true</code>.</li><li class="listitem">If you are using an OpenShift
instance that has a valid SSL certificate, change the value of
this argument to <code class="literal">false</code>.</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Apply</strong></span> and then click
<span class="strong"><strong>Run</strong></span>.</p><p class="simpara">Because of the number of dependencies to download, first-time deployment can
take some time. The speed of your computer and your internet connection are
contributing factors. Typically, it takes 25 to 35 minutes to complete a
first-time deployment.</p><p class="simpara">In the <span class="strong"><strong>Console</strong></span> view, you can track the progress of the
deploy process. In the following output, the
entry *Pushing image 172.30.1 &#8230;&#8203;.. * indicates that
the project built successfully and the application images are being
pushed to OpenShift, where they will be used to build the Docker
container.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FIS_ConLogSuccess1.png" alt="FIS ConLogSuccess1"></div></div><p class="simpara">The <span class="strong"><strong>Console</strong></span> view displays <span class="strong"><strong>BUILD
SUCCESS</strong></span> when deployment completes successfully:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FIS_ConLogSuccess2.png" alt="FIS ConLogSuccess2"></div></div></li><li class="listitem"><p class="simpara">Switch to the <span class="strong"><strong>OpenShift Explorer</strong></span> view and select
<span class="strong"><strong>New FIS Test newtest</strong></span>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/OSE_NewFISTestDeploy1.png" alt="OSE NewFISTestDeploy1"></div></div><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> view, the
<span class="strong"><strong>Details</strong></span> page displays all of the project&#8217;s property
values.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/OSEnewFISprojProps.png" alt="OSEnewFISprojProps"></div></div><p class="simpara">Open the other tabs (<span class="strong"><strong>Builds</strong></span>, <span class="strong"><strong>Build
Configs</strong></span>, <span class="strong"><strong>Deployments</strong></span>,&#8230;&#8203;) to view other
properties of the project. The <span class="strong"><strong>Properties</strong></span> view provides the
same information as the OpenShift Web Console.</p></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>OpenShift Explorer</strong></span> view, select
<code class="literal">camel-ose-springboot-xml</code> to view its details in
the <span class="strong"><strong>Properties</strong></span> view:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/NFT_camxmlPropsDetails.png" alt="NFT camxmlPropsDetails"></div></div><p class="simpara">Scroll through the other tabs to view other properties of the deployment
configuration.</p></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>OpenShift Explorer</strong></span> view, select
<code class="literal">camel-ose-springboot-xml-1-mdmtd Pod Running</code>, and then
view the details of the running instance in the <span class="strong"><strong>Properties</strong></span>
view:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/NFT_ImageStreamPropsDetails.png" alt="NFT ImageStreamPropsDetails"></div></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>OpenShift Explorer</strong></span> view, right-click
<code class="literal">camel-ose-springboot-xml-1-mdmtd Pod Running</code>, and then
select <span class="strong"><strong>Pod Logs&#8230;&#8203;</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If prompted, enter the path to the installed <code class="literal">oc</code> executable. It is required to
retrieve pod logs.</p></td></tr></table></div><p class="simpara">The <span class="strong"><strong>Console</strong></span> view automatically opens, displaying the logs
from the running pod:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/OSE_podLogsDisplayed.png" alt="OSE podLogsDisplayed"></div></div><p class="simpara">Click
<span class="inlinemediaobject"><img src="./images/remove_exc.gif" alt="Close"></span> in the <span class="strong"><strong>Console</strong></span> view&#8217;s menu bar to
terminate the session and clear console output.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="OS_webConsoleLogin"></a>Accessing the OpenShift Web Console</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This information applies to Red Hat Container Development Kit installations
only.</p></td></tr></table></div><p>To access the OpenShift Web Console, open a browser and enter the OpenShift server&#8217;s
URL, which is specific to your instance and your machine. For example,
enter <code class="literal"><a class="link" href="https://192.168.99.100:8443" target="_top">https://192.168.99.100:8443</a></code>, in the browser&#8217;s address field.</p><p>You can log into the web console either as a developer or as an administrator, using
the default credentials:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">Default developer role</p><p class="simpara">Developer users can view only their own projects and the supplied OpenShift
sample project, which demonstrates OpenShift v3 features. Developer users can
create, edit and delete any project that they own that is deployed on OpenShift.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><span class="strong"><strong>Username</strong></span>
<code class="literal">developer</code></li><li class="listitem"><span class="strong"><strong>Password</strong></span>
<code class="literal">developer</code></li></ul></div></li><li class="listitem"><p class="simpara">Default administrator role</p><p class="simpara">An administrator user can view and access all projects on OpenShift (CDK).
Administrator users can create, edit and delete, any project deployed on
OpenShift.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><span class="strong"><strong>Username</strong></span>
<code class="literal">admin</code></li><li class="listitem"><span class="strong"><strong>Password</strong></span>
<code class="literal">admin</code></li></ul></div></li></ul></div><p>For more information on using the OpenShift web console,
see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_container_development_kit/3.2/html-single/getting_started_guide/{" target="_top">NameOfCDKGettingStarted</a>}.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderSAP"></a>Using the Red Hat Fuse SAP Tool Suite</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#RiderSAP-Install">Installing the Red Hat Fuse SAP Tool Suite</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderSAP-CreateDest">Create and Test SAP Destination Connection</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderSAP-CreateServGui">Create and Test SAP Server Connection</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderSAP-DeleteDest">Deleting Destination and Server Connections</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#RiderSAP-Endpoint">Create a New SAP Endpoint</a></span></dt></dl></div><p>The Red Hat Fuse SAP Tool Suite makes it possible to integrate your Camel routes
with a remote SAP Application Server. A variety of SAP components are provided to
support Remote Function Calls (RFC) and the sending and receiving of Intermediate
Documents (IDocs). The SAP Tool Suite depends on the JCo and IDoc client
libraries from SAP. To install and use these libraries, you must have
an SAP Service Marketplace Account.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderSAP-Install"></a>Installing the Red Hat Fuse SAP Tool Suite</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_21"></a>Overview</h4></div></div></div><p>The Red Hat Fuse SAP Tool Suite provides the Edit SAP Connection Configuration dialog, which helps you to create and manage the SAP Application Server and Destination connections. The suite is not installed by default, because it requires third-party JCo and IDoc client libraries, which are licensed separately by SAP.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_platform_restrictions_for_sap_tooling"></a>Platform restrictions for SAP tooling</h4></div></div></div><p>Because the SAP tool suite depends on the third-party JCo 3.0 and IDoc 3.0 libraries,
it can only be installed on the platforms that these libraries support. For more details
about the platform restrictions for SAP tooling, see <a class="link" href="https://access.redhat.com/site/articles/310603" target="_top">Red Hat Fuse
Supported Configurations</a>.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_prerequisites_10"></a>Prerequisites</h4></div></div></div><p>Before you can install the Fuse SAP Tool Suite, you must download the JCo and
IDoc libraries from the following location:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="http://service.sap.com/connectors" target="_top">http://service.sap.com/connectors</a></li></ul></div><p>To download these libraries, you must have an SAP Service Marketplace Account. Be sure
to choose the appropriate JCo and IDoc libraries for your operationg system. Also:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Only version 3.0.11 or greater of the JCo library is supported.</li><li class="listitem">Only version 3.0.10 or greater of the IDoc library is supported.</li></ul></div><p>For this installation procedure, you can leave the downloaded files in archive
format. There is no need to extract the contents.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_11"></a>Procedure</h4></div></div></div><p>To install the Fuse SAP Tool Suite into JBoss Developer Studio, perform the
following steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In JBoss Developer Studio, select menu:[File &gt; Import] to open the <span class="strong"><strong>Import</strong></span> wizard.</li><li class="listitem">In the <span class="strong"><strong>Select</strong></span> screen of the <span class="strong"><strong>Import</strong></span>
wizard, select <span class="strong"><strong>Fuse</strong></span> &#8594; <span class="strong"><strong>Install Fuse SAP Tool Suite</strong></span>, and then click <span class="strong"><strong>Next</strong></span>.</li><li class="listitem">The <span class="strong"><strong>Install the Red Hat Fuse SAP Tool Suite</strong></span> screen opens,
which displays the instructions for downloading the JCo and IDoc libraries from
the SAP Service Marketplace. Click <span class="strong"><strong>Next</strong></span>.</li><li class="listitem"><p class="simpara">The <span class="strong"><strong>Select JCo3 and IDoc3 Archive to Import</strong></span> screen opens.
Next to the <span class="strong"><strong>JCo Archive File</strong></span> field, use the
<span class="strong"><strong>Browse</strong></span> button to select the JCo archive that you
downloaded from the SAP Service Marketplace. After selecting the JCo archive,
the <span class="strong"><strong>Archive Version</strong></span> and <span class="strong"><strong>Archive OS
Platform</strong></span> fields are automatically filled in, so that you can
check whether the library you are installing has the correct version and OS
platform.</p><p class="simpara">Next to the IDoc3 Archive File field, use the <span class="strong"><strong>Browse</strong></span>
button to select the IDoc archive that you downloaded from the SAP Service
Marketplace.</p><p class="simpara">After selecting both archive files, click <span class="strong"><strong>Finish</strong></span>.</p></li><li class="listitem"><p class="simpara">A new <span class="strong"><strong>Install</strong></span> wizard (for installing Eclipse plug-ins)
opens automatically. This wizard displays the following to plug-ins to be
installed:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Fuse SAP Tool Suite</li><li class="listitem"><p class="simpara">SAP JCo3 and IDoc3 Libraries</p><p class="simpara">Make sure that both of these plug-ins are selected. Click
<span class="strong"><strong>Next</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <code class="literal">SAP JCo3 and IDoc3 Libraries</code> plug-in is
dynamically constructed from the selected JCo and IDoc libraries.</p></td></tr></table></div></li></ul></div></li><li class="listitem">The <span class="strong"><strong>Install Details</strong></span> screen allows you to review the
plug-ins to be installed. Click <span class="strong"><strong>Next</strong></span>.</li><li class="listitem">The <span class="strong"><strong>Review Licenses</strong></span> dialog opens. Select the <span class="strong"><strong>I
accept</strong></span> radiobutton option, and then click
<span class="strong"><strong>Finish</strong></span>.</li><li class="listitem">If you encounter a <span class="strong"><strong>Security Warning</strong></span> dialog (warning of
unsigned content), click <span class="strong"><strong>OK</strong></span> to ignore the warning and
continue installing.</li><li class="listitem">The <span class="strong"><strong>Restart Eclipse</strong></span> dialog opens. Click
<span class="strong"><strong>OK</strong></span> to restart Eclipse.</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderSAP-CreateDest"></a>Create and Test SAP Destination Connection</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_22"></a>Overview</h4></div></div></div><p>In Fuse SAP Tool suite, the Edit SAP Connection Configuration dialog helps you to create and manage the SAP Application Destination connections. This section describes how to create and test the SAP destination connection.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_12"></a>Procedure</h4></div></div></div><p>To create and test an SAP destination connection, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Navigate to the global <span class="strong"><strong>Configurations</strong></span> tab of the route editor and
click <span class="strong"><strong>Add</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Create new global element</strong></span> view appears.</p></li><li class="listitem"><p class="simpara">Under <span class="strong"><strong>SAP</strong></span>, select the type of connection you would like to create. Choose the <span class="strong"><strong>SAP Connection</strong></span> and click <span class="strong"><strong>Ok</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Edit SAP Connection Configuration</strong></span> dialog appears. It allows you to create, edit and delete the Destination and Server Connection Configurations.</p></li><li class="listitem"><p class="simpara">To create a new <span class="strong"><strong>Destination Data Store</strong></span>, click the <span class="strong"><strong>Add Destination</strong></span> tab.</p><p class="simpara">The <span class="strong"><strong>Create Destination</strong></span> dialog appears.</p></li><li class="listitem">Enter a name for the destination in the <span class="strong"><strong>Destination Name</strong></span> field and click <span class="strong"><strong>Ok</strong></span>.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> dialog,</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Basic</strong></span> tab to configure the basic properties required
to connect to an SAP destination. In this tab, fill in the following
property fields to configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>SAP Application Server</strong></span></li><li class="listitem"><span class="strong"><strong>SAP System Number</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Client</strong></span></li><li class="listitem"><span class="strong"><strong>Logon User</strong></span></li><li class="listitem"><span class="strong"><strong>Logon Password</strong></span></li><li class="listitem"><span class="strong"><strong>Logon Language</strong></span></li></ul></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Connection</strong></span> tab to add values required to connect to
an SAP destination. Fill in the following property fields to
configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>SAP System Number</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Router String</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Application Server</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Message Server</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Message Server Port</strong></span></li><li class="listitem"><span class="strong"><strong>Gateway Host</strong></span></li><li class="listitem"><span class="strong"><strong>Gateway Port</strong></span></li><li class="listitem"><span class="strong"><strong>SAP System ID</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Application Server
Group</strong></span></li></ul></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Authenticate</strong></span> tab to add values required to validate
an SAP destination. Fill in the following property fields to
configure the connection.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>SAP Authentication type</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Client</strong></span></li><li class="listitem"><span class="strong"><strong>Logon User</strong></span></li><li class="listitem"><span class="strong"><strong>Logon User Alias</strong></span></li><li class="listitem"><span class="strong"><strong>Logon Password</strong></span></li><li class="listitem"><span class="strong"><strong>SAP SSO Logon Ticket</strong></span></li><li class="listitem"><span class="strong"><strong>SAP X509 Login Ticket</strong></span></li><li class="listitem"><span class="strong"><strong>Logon Language</strong></span></li></ul></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Special</strong></span> tab. In this tab, fill in the following
property fields to configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Select CPIC Trace</strong></span></li><li class="listitem"><span class="strong"><strong>Initial Codepage</strong></span></li></ul></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Pool</strong></span> tab and fill in the following property fields to
configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Connection Pool Peak Limit</strong></span></li><li class="listitem"><span class="strong"><strong>Connection Pool Capacity</strong></span></li><li class="listitem"><span class="strong"><strong>Connection Pool Expiration
Time</strong></span></li><li class="listitem"><span class="strong"><strong>Connection Pool Expire Check
Period</strong></span></li><li class="listitem"><span class="strong"><strong>Connection Pool Max Get Client
Time</strong></span></li></ul></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>SNC</strong></span> tab and fill in the following property fields to
configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>SNC Partner Name</strong></span></li><li class="listitem"><span class="strong"><strong>SNC Level of Security</strong></span></li><li class="listitem"><span class="strong"><strong>SNC Name</strong></span></li><li class="listitem"><span class="strong"><strong>SNC Library Path</strong></span></li></ul></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Repository</strong></span> tab and fill in the following property
fields to configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Repository Destination</strong></span></li><li class="listitem"><span class="strong"><strong>Repository Logon User</strong></span></li><li class="listitem"><p class="simpara"><span class="strong"><strong>Repository Logon Password</strong></span></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you need more information about these settings, refer the SAP documentation.</p></td></tr></table></div></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">You are now ready to test the destination connection. In the <span class="strong"><strong>Edit SAP Connection Configuration</strong></span> dialog, right-click on the destination name and select <span class="strong"><strong>Test</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Test Destination Connection</strong></span> dialog opens.</p></li><li class="listitem"><p class="simpara">The dialog uses the current destination configuration settings to connect to the <span class="strong"><strong>SAP Destination Data Store</strong></span>. If the test is successful, you will see the following message in the status area:</p><pre class="screen">Connection test for destination 'YourDestination' succeeded.</pre><p class="simpara">Otherwise, an error report appears in the status area.</p></li><li class="listitem">Click <span class="strong"><strong>Close</strong></span> to close the <span class="strong"><strong>Test Destination Connection</strong></span> dialog.</li><li class="listitem">Click <span class="strong"><strong>Finish</strong></span>. The newly created <span class="strong"><strong>SAP Destination Connection</strong></span> appears under SAP.</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderSAP-CreateServGui"></a>Create and Test SAP Server Connection</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_23"></a>Overview</h4></div></div></div><p>In Fuse SAP Tool suite, the Edit SAP Connection Configuration dialog helps you to create and manage the SAP Application Server connections. This section describes how to create and test the SAP Server connection.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_13"></a>Procedure</h4></div></div></div><p>To create and test the SAP Server connection, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Navigate to the global <span class="strong"><strong>Configurations</strong></span> tab of route editor and
click <span class="strong"><strong>Add</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Create new global element</strong></span> view appears.</p></li><li class="listitem"><p class="simpara">Under <span class="strong"><strong>SAP</strong></span>, select the type of connection you would like to create. Choose the <span class="strong"><strong>SAP Connection</strong></span> and click <span class="strong"><strong>Ok</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Edit SAP Connection Configuration</strong></span> dialog appears. It allows you to create, edit and delete the Destination and Server Connection Configurations.</p></li><li class="listitem"><p class="simpara">To create a new <span class="strong"><strong>Server Data Store</strong></span>, click the <span class="strong"><strong>Add Server</strong></span> tab.</p><p class="simpara">The <span class="strong"><strong>Create Server</strong></span> dialog appears.</p></li><li class="listitem">Enter a name for the Server in the <span class="strong"><strong>Server Name</strong></span> field and click <span class="strong"><strong>Ok</strong></span>.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> dialog,</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Mandatory</strong></span> tab to configure the basic properties
required to connect to an SAP server. In this tab, fill in the
following property fields to configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Gateway Host</strong></span></li><li class="listitem"><span class="strong"><strong>Gateway Port</strong></span></li><li class="listitem"><span class="strong"><strong>Program ID</strong></span></li><li class="listitem"><span class="strong"><strong>Repository Destination</strong></span></li><li class="listitem"><span class="strong"><strong>Connection Count</strong></span></li></ul></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Optional</strong></span> tab and fill in the following property
fields to configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>SAP Router String</strong></span></li><li class="listitem"><span class="strong"><strong>Worker Thread Count</strong></span></li><li class="listitem"><span class="strong"><strong>Minimum Worker Thread
Count</strong></span></li><li class="listitem"><span class="strong"><strong>Maximum Startup Delay</strong></span></li><li class="listitem"><span class="strong"><strong>Repository Map</strong></span></li></ul></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>SNC</strong></span> tab and fill in the following property fields to
configure the connection.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>SNC Level of Security</strong></span></li><li class="listitem"><span class="strong"><strong>SNC Name</strong></span></li><li class="listitem"><p class="simpara"><span class="strong"><strong>SNC Library Path</strong></span></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For more information about the settings, refer the SAP documentation.</p></td></tr></table></div></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">You are now ready to test the server connection. In the <span class="strong"><strong>Edit SAP Connection Configuration</strong></span> dialog, right-click on the server name and select <span class="strong"><strong>Test</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Test Server Connection</strong></span> dialog opens.</p></li><li class="listitem"><p class="simpara">The dialog uses the current server configuration settings to connect to the <span class="strong"><strong>SAP Server Data Store</strong></span>. If the test is successful, you will see the following message in the status area:</p><pre class="screen">Server state: STARTED
Server state: ALIVE</pre><p class="simpara">If the test fails, the server status is reported as <span class="strong"><strong>DEAD</strong></span>.</p></li><li class="listitem">Click <span class="strong"><strong>Stop</strong></span> to shut down the Test Sever.</li><li class="listitem">Click <span class="strong"><strong>Close</strong></span> to close the <span class="strong"><strong>Test Server Connection</strong></span> dialog.</li><li class="listitem">Click <span class="strong"><strong>Finish</strong></span>. The newly created <span class="strong"><strong>SAP Server Connection</strong></span> appears under SAP.</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderSAP-DeleteDest"></a>Deleting Destination and Server Connections</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_24"></a>Overview</h4></div></div></div><p>This following section describes how to delete the SAP Destination and Server connections in the Edit SAP Connection Configuration dialog.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_14"></a>Procedure</h4></div></div></div><p>If you want to delete the Destination and Server connections, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Navigate to the global <span class="strong"><strong>Configurations</strong></span> tab of route editor and
click <span class="strong"><strong>Add</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Create new global element</strong></span> view appears.</p></li><li class="listitem"><p class="simpara">Under <span class="strong"><strong>SAP</strong></span>, select the <span class="strong"><strong>SAP Connection</strong></span> and click <span class="strong"><strong>Ok</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Edit SAP Connection Configuration</strong></span> dialog appears. It allows you to create, edit and delete the Destination and Server Connection Configurations.</p></li><li class="listitem">In the <span class="strong"><strong>Edit SAP Connection Configuration</strong></span> dialog, select the Destination and Server Data Stores which you want to delete.</li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Delete</strong></span>. It will delete the selected connections.</p><p class="simpara">Atlast, click <span class="strong"><strong>Finish</strong></span>. It will save all the changes.</p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderSAP-Endpoint"></a>Create a New SAP Endpoint</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_25"></a>Overview</h4></div></div></div><p>You can use the Components palette in the route editor to add SAP components to a route
with the help of the Edit SAP Connection Configuration dialog.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you are using the SAP Connection view, remember to paste the requisite SAP
connection configuration data into your Blueprint XML or Spring XML code.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_prerequisites_11"></a>Prerequisites</h4></div></div></div><p>You must already have created some SAP destination connections and/or server
connections with the help of the Edit SAP Connection Configuration dialog.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you are using the SAP Connection view, export this configuration to a file of the appropriate type
(Blueprint XML or Spring XML).</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_15"></a>Procedure</h4></div></div></div><p>To create a new SAP endpoint, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">It is assumed that you already have a Fuse project and a Camel XML file to
work with (which could either be in Blueprint XML or Spring XML format).</li><li class="listitem"><p class="simpara">Open your Camel XML file in the route editor. If you have already installed
the Red Hat Fuse SAP Tool Suite, you should be able to see the SAP components
under the <span class="strong"><strong>Components</strong></span> palette in the route editor. The
following SAP components are provided by the tool suite:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>SAP IDoc Destination</strong></span></li><li class="listitem"><span class="strong"><strong>SAP IDoc List Destination</strong></span></li><li class="listitem"><span class="strong"><strong>SAP IDoc List Server</strong></span></li><li class="listitem"><span class="strong"><strong>SAP qRFC Destination</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Queued IDoc Destination</strong></span></li><li class="listitem"><span class="strong"><strong>SAP Queued IDoc List Destination</strong></span></li><li class="listitem"><span class="strong"><strong>SAP sRFC Destination</strong></span></li><li class="listitem"><span class="strong"><strong>SAP sRFC Server</strong></span></li><li class="listitem"><span class="strong"><strong>SAP tRFC Destination</strong></span></li><li class="listitem"><p class="simpara"><span class="strong"><strong>SAP tRFC Server</strong></span></p><p class="simpara">In the <span class="strong"><strong>Design</strong></span> tab of the route editor, drag one of these
components onto the canvas to create a new SAP endpoint in the current
<code class="literal">camelContext</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The SAP Netweaver component does not belong to the Red Hat Fuse SAP Tool
Suite. It is hosted in the Apache Camel project.</p></td></tr></table></div></li></ul></div></li><li class="listitem">Switch to the <span class="strong"><strong>Source</strong></span> tab of the route editor, by clicking
the <span class="strong"><strong>Source</strong></span> tab at the bottom of the canvas. You can see the
XML source of the routes.</li><li class="listitem"><p class="simpara">When specifying an SAP endpoint URI, you must embed either a destination name
or a server connection name in the URI format. For example, the
<code class="literal">sap-srfc-destination</code> component has the following URI
format:</p><pre class="screen">sap-srfc-destination:destinationName:rfcName</pre><p class="simpara">To reference a particular destination, use the value of the relevant
<code class="literal">entry</code> element&#8217;s <code class="literal">key</code> attribute as the <code class="literal">destinationName</code> in this URI.</p></li></ol></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="TransTools"></a>Getting Started with Data Transformation</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#_fuse_transformation_tooling">Fuse Transformation Tooling</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#_data_transformation_tutorial">Data Transformation Tutorial</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_fuse_transformation_tooling"></a>Fuse Transformation Tooling</h3></div></div></div><p>One of the challenges that comes with system and data integration is that the
component systems often work with different data formats. You cannot simply send
messages from one system to another without translating it into a format (or language)
recognized by the receiving system. Data transformation is the term given to this
translation.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_data_transformation_tutorial"></a>Data Transformation Tutorial</h3></div></div></div><p>In this tutorial you will learn how to use the data transformation tooling to include
data transformation in a predefined Camel route. The Camel route directs messages from a
source endpoint that produces XML data to a target endpoint that consumes JSON data. You
will add and define a data transformation component that maps the source&#8217;s XML data
format to the target&#8217;s JSON data format.</p><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_prerequisites_12"></a>Prerequisites</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Install Fuse tooling in JBoss Developer Studio. See <a class="link" href="https://access.redhat.com/documentation/en/red-hat-jboss-developer-studio" target="_top">the Developer Studio documentation page</a>, select the Developer
Studio version and click the link for the installation guide.</li><li class="listitem">Install and configure Maven. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jbossfuse/7.0/single/deploying_into_apache_karaf/index" target="_top">Deploying into Apache Karaf</a>.</li><li class="listitem">Download and install the <a class="link" href="https://github.com/Fusesource/Fuseide/tree/8.0.0.Final/examples/transformation" target="_top">transformation quickstart applications</a>.</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_importing_the_literal_starter_literal_quickstart_application"></a>Importing the <code class="literal">starter</code> quickstart application</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Right-click in the <span class="strong"><strong>Project Explorer</strong></span> view to open the
context menu.</li><li class="listitem">Select menu:[Import &gt; Import].</li><li class="listitem">Expand the <span class="strong"><strong>Maven</strong></span> folder, and select
<span class="strong"><strong>Existing Maven Projects</strong></span>.</li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Next</strong></span> to open the <span class="strong"><strong>Maven
Projects</strong></span> wizard.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTimportMvnProjects1.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Browse</strong></span> to find and select the root directory
of the <code class="literal">starter</code> quickstart application.</p><p class="simpara">If the browse operation finds multiple projects, make sure you select the
<code class="literal">starter</code> quickstart application. The full path to the
<code class="literal">starter</code> quickstart application appears in the
<span class="strong"><strong>Projects</strong></span> pane.</p></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><p class="simpara">After the import operation finishes, the <code class="literal">starter</code> project
appears in the <span class="strong"><strong>Project Explorer</strong></span> view.</p></li><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, expand the
<code class="literal">starter</code> project.</li><li class="listitem"><p class="simpara">Double-click
<code class="literal">starter/src/main/resources/META-INF/spring/camel-context.xml</code>
to open the route in the route editor&#8217;s <span class="strong"><strong>Design</strong></span>
tab.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/camel_context.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Source</strong></span> tab to view the underlying XML.</p><p class="simpara">You can see that an XML file is produced from a source endpoint and a JSON
file is consumed by a target endpoint.</p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:camel="http://camel.apache.org/schema/spring"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd        http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd"&gt;

    &lt;camelContext id="camelContext-272d04f8-e498-466d-b34b-3c24d01a4e10" xmlns="http://camel.apache.org/schema/spring"
        &lt;route id="_route1"&gt;
            &lt;from id="_from1" uri="file:src/data?fileName=abc-order.xml&amp;noop=true"/&gt;
            &lt;to id="_to1" uri="file:target/messages?fileName=xyz-order.json"/&gt;
        &lt;/route&gt;
    &lt;/camelContext&gt;
&lt;/beans&gt;</pre></li><li class="listitem">Click the <span class="strong"><strong>Design</strong></span> tab to return to the graphical
display of the route.</li><li class="listitem">Remove the arrow that connects the source and target endpoints.</li><li class="listitem">If the <span class="strong"><strong>Console</strong></span> view is not already open, open it now
by selecting <span class="guimenu">Window</span> &gt; <span class="guisubmenu">Show View</span> &gt; <span class="guimenuitem">Console</span>.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Although the following mini tutorials are written to be run in consecutive order, you can run
them in any order. If you change the order then the console output for a
tutorial will differ from that shown here.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_adding_a_data_transformation_node_to_the_camel_route"></a>Adding a data transformation node to the Camel route</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Palette</strong></span>, expand the <span class="strong"><strong>Transformation</strong></span>
<span class="emphasis"><em>drawer</em></span>.</li><li class="listitem"><p class="simpara">Drag a <span class="strong"><strong>Data Transformation</strong></span> pattern over the canvas and drop it on the
<code class="literal">Route_route1</code> container.</p><p class="simpara">The <span class="strong"><strong>New Transformation</strong></span> wizard opens with the
<span class="strong"><strong>Project</strong></span>, <span class="strong"><strong>Dozer File Path</strong></span>, and
<span class="strong"><strong>Camel File Path</strong></span> fields auto filled.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTnewTransform1.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Fill in the remaining fields:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">In the <span class="strong"><strong>Transformation ID</strong></span> field, enter <code class="literal"><span class="strong"><strong>xml2json</strong></span></code>.</li><li class="listitem">For <span class="strong"><strong>Source Type</strong></span>, select <span class="strong"><strong>XML</strong></span> from the drop-down
menu.</li><li class="listitem">For <span class="strong"><strong>Target Type</strong></span>, select <span class="strong"><strong>JSON</strong></span> from the drop-down
menu.</li></ul></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Next</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Source Type (XML)</strong></span> definition page opens, where
you specify either an <span class="strong"><strong>XML Schema</strong></span> (default) or an
example <span class="strong"><strong>XML Instance Document</strong></span> to provide the type
definition of the source data:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTsourceType1.png" alt="Description"></div></div></li><li class="listitem">Leave <span class="strong"><strong>XML Schema</strong></span> enabled.</li><li class="listitem"><p class="simpara">For <span class="strong"><strong>Source file</strong></span>, browse to the location of the XML schema file or the XML
instance file to use for the type definition of the source data, and select
it (in this case, <code class="literal">abc-order.xsd</code>).</p><p class="simpara">The <span class="strong"><strong>XML Structure Preview</strong></span> pane displays a preview of
the XML structure.</p></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Element root</strong></span> field, enter
<code class="literal"><span class="strong"><strong>ABCOrder</strong></span></code>.</p><p class="simpara">The tooling uses this text to label the pane that displays the source
data items to map.</p><p class="simpara">The <span class="strong"><strong>Source Type (XML)</strong></span> definition page should now look
like this:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTsourceType2.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Next</strong></span> to open the <span class="strong"><strong>Target Type (JSON)</strong></span>
definition page. This is where you specify the type definition for the
target data.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtargetType1.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>JSON Instance Document</strong></span>.</p><p class="simpara">In the <span class="strong"><strong>Target File</strong></span> field, enter the path to the
<code class="literal">xyz-order.json</code> instance document, or browse to it.
The <span class="strong"><strong>JSON Structure Preview</strong></span> pane displays a preview of
the JSON data structure:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtargetType2.png" alt="Description"></div></div></li><li class="listitem">Click <span class="strong"><strong>Finish</strong></span>.</li></ol></div><p>The transformation editor opens. This is where you can map data items in your XML
source to data items in your JSON target.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtransfomEditor1.png" alt="Description"></div></div><p>The transformation editor is composed of three panels:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Source</strong></span>&#8201;&#8212;&#8201;lists the available data items of the source</li><li class="listitem"><span class="strong"><strong>Mappings</strong></span>&#8201;&#8212;&#8201;displays the mappings between the source and target
data items</li><li class="listitem"><span class="strong"><strong>Target</strong></span>&#8201;&#8212;&#8201;lists the available data items of the target</li></ul></div><p>In addition, the editor&#8217;s details pane, located just below the editor&#8217;s three
panels (once the first mapping has been made), graphically displays the hierarchical
ancestors for both the mapped source and target data items currently selected. For
example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTdetailsView1.png" alt="Details pane with source property customerNum mapped to target property role=&#34;italic&#34;&gt;custId"></div></div><p>Using the details pane, you can customize the mapping for the selected source and
target data items:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Set property</strong></span>&#8201;&#8212;&#8201;Modify an existing mapping or
map a simple data item to one in a collection (see <a class="xref" href="RiderDevPart.html#mapToCollection" title="Mapping a simple data item to a data item in a collection">Mapping a simple data item to a data item in a collection</a>).</li><li class="listitem"><span class="strong"><strong>Set variable</strong></span>&#8201;&#8212;&#8201;Specify a constant value for a
data item (see <a class="xref" href="RiderDevPart.html#mapVariable" title="Mapping a constant variable to a data item">Mapping a constant variable to a data item</a>).</li><li class="listitem"><span class="strong"><strong>Set expression</strong></span>&#8201;&#8212;&#8201;Map a data item to the
dynamic evaluation of a specified expression (see <a class="xref" href="RiderDevPart.html#mapExpression" title="Mapping an expression to a data item">Mapping an expression to a data item</a>).</li><li class="listitem"><span class="strong"><strong>Add transformation</strong></span>&#8201;&#8212;&#8201;Modify the value of a
mapped data item using a built-in function (see <a class="xref" href="RiderDevPart.html#addBuiltinFunc" title="Adding a built-in function to a mapped data item">Adding a built-in function to a mapped data item</a>).</li><li class="listitem"><span class="strong"><strong>Add custom transformation</strong></span>&#8201;&#8212;&#8201;Modify the value
of a mapped data item using the Java method you create or one you
previously created (see <a class="xref" href="RiderDevPart.html#addCustomFunc" title="Adding a custom transformation to a mapped data item">Adding a  custom transformation to a mapped data item</a>).</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_mapping_source_data_items_to_target_data_items"></a>Mapping source data items to target data items</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Expand all items in the <span class="strong"><strong>Source</strong></span> and <span class="strong"><strong>Target</strong></span> panels
located on left and right sides of the <span class="strong"><strong>Mappings</strong></span>
panel.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtransformEditor2.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Drag a data item from the <span class="strong"><strong>Source</strong></span> panel and drop it on its corresponding
data item in the <span class="strong"><strong>Target</strong></span> panel.</p><p class="simpara">For example, drag the <code class="literal">customerNum</code> data item from the
<span class="strong"><strong>Source</strong></span> panel and drop it on the <code class="literal">custId</code>
data item in the <span class="strong"><strong>Target</strong></span> panel.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtransformEditor3.png" alt="Description"></div></div><p class="simpara">The mapping appears in the <span class="strong"><strong>Mappings</strong></span> panel, and the
details of both the <span class="strong"><strong>Source</strong></span> and
<span class="strong"><strong>Target</strong></span> data items appear below in the details
pane.</p></li><li class="listitem"><p class="simpara">Continue dragging and dropping source data items onto their corresponding target data items
until you have completed all basic mappings.</p><p class="simpara">In the <code class="literal">starter</code> example, the remaining data items to
map are:</p><div class="informaltable"><table border="1"><colgroup><col width="50%" class="col_1"><col width="50%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">Source</th><th align="left" valign="top">Target
+</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">orderNum</code></p></td><td align="left" valign="top"><p><code class="literal">orderId</code></p>
<p>+</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">status</code></p></td><td align="left" valign="top"><p><code class="literal">priority</code></p>
<p>+</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">id</code></p></td><td align="left" valign="top"><p><code class="literal">itemId</code></p>
<p>+</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">price</code></p></td><td align="left" valign="top"><p><code class="literal">cost</code></p>
<p>+</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">quantity</code></p></td><td align="left" valign="top"><p><code class="literal">amount</code></p>
<p>+</p></td></tr></tbody></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can map collections (data items containing lists or sets) to noncollection data items and
vice versa, but you cannot map collections to other collections.</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Click
<span class="inlinemediaobject"><img src="./images/hideMapdFsIcon.png" alt="Hide mapped fields icon"></span> on both the <span class="strong"><strong>Source</strong></span> and
<span class="strong"><strong>Target</strong></span> panels to quickly determine whether all data
items have been mapped.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtransformEditor5.png" alt="Description"></div></div><p class="simpara">Only data items that have not been mapped are listed in the
<span class="strong"><strong>Source</strong></span> and <span class="strong"><strong>Target</strong></span>
panels.</p><p class="simpara">In the <code class="literal">starter</code> example, the remaining unmapped
<span class="strong"><strong>Target</strong></span> attributes are
<code class="literal">approvalCode</code> and
<code class="literal">origin</code>.</p></li><li class="listitem">Click the <span class="strong"><strong>camel-context.xml</strong></span> tab to return to the
graphical display of the route.</li><li class="listitem"><p class="simpara">Hover your cursor over each endpoint to reveal its connecter arrow.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/map_transformations.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Selecting the <code class="literal">file:src/data?fil&#8230;&#8203;</code> node, drag and drop its connector arrow
onto the <code class="literal">ref:xml2json</code> node. Likewise drag and drop the connector arrow from
the <code class="literal">ref:xml2json</code> node onto the
<code class="literal">file:target/messa&#8230;&#8203;</code> node.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/map_complete.png" alt="Description"></div></div><p class="simpara">Connecting the nodes on the canvas creates a valid Camel route, which you
can now save.</p></li><li class="listitem">Click <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span>.</li></ol></div><p>You can run a JUnit test on your transformation file after you create the
transformation test. For details, see <a class="xref" href="RiderDevPart.html#DTtestCreate" title="Creating the transformation test file and running the JUnit test">Creating the transformation test file and running the JUnit test</a>. If you do so
at this point, you will see this output in the <span class="strong"><strong>Console</strong></span>
view:</p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ABCOrder xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:java="http://java.sun.com"&gt;
    &lt;header&gt;
        &lt;status&gt;GOLD&lt;/status&gt;
        &lt;customer-num&gt;ACME-123&lt;/customer-num&gt;
        &lt;order-num&gt;ORDER1&lt;/order-num&gt;
    &lt;/header&gt;
    &lt;order-items&gt;
        &lt;item id="PICKLE"&gt;
            &lt;price&gt;2.25&lt;/price&gt;
            &lt;quantity&gt;1000&lt;/quantity&gt;
        &lt;/item&gt;
        &lt;item id="BANANA"&gt;
            &lt;price&gt;1.25&lt;/price&gt;
            &lt;quantity&gt;400&lt;/quantity&gt;
        &lt;/item&gt;
    &lt;/order-items&gt;
&lt;/ABCOrder&gt;</pre><p>for the source XML data, and</p><pre class="screen">{"custId":"ACME-123","priority":"GOLD","orderId":"ORDER1","lineItems":[{"itemId":"PICKLE",
"amount":1000,"cost":2.25},{"itemId":"BANANA","amount":400,"cost":1.25</pre><p>for the target JSON data.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="DTtestCreate"></a>Creating the transformation test file and running the JUnit test</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Right-click the <code class="literal">starter</code> project in the
<span class="strong"><strong>Project Explorer</strong></span> view, and select menu:[New &gt; Other &gt; Fuse Tooling &gt; Fuse Transformation Test].</li><li class="listitem">Select <span class="strong"><strong>Next</strong></span> to open the
<span class="strong"><strong>New Transformation Test</strong></span> wizard.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>New Transformation Test</strong></span> wizard, set the
following values:</p><div class="informaltable"><table border="1"><colgroup><col width="50%" class="col_1"><col width="50%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">Field</th><th align="left" valign="top">Value
+</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>Package</strong></span></p></td><td align="left" valign="top"><p><code class="literal">example</code></p>
<p>+</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>Transformation ID</strong></span></p></td><td align="left" valign="top"><p><code class="literal">xml2json</code></p>
<p>+</p></td></tr></tbody></table></div></li><li class="listitem">Click <span class="strong"><strong>Finish</strong></span>.</li><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, navigate to
<code class="literal">starter/src/test/java/example</code>, and open the
<code class="literal">TransformationTest.java</code> file.</li><li class="listitem"><p class="simpara">Add the following code to the <code class="literal">transform</code> method:</p><pre class="screen">startEndpoint.sendBodyAndHeader(readFile("src/data/abc-order.xml"), "approvalID", "AUTO_OK");</pre></li><li class="listitem"><p class="simpara">Click <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span>.</p><p class="simpara">You can now run a JUnit test on your transformation file at any point in
these tutorials.</p></li><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, expand the
<code class="literal">starter</code> project to expose the
<code class="literal">/src/test/java/example/TransformationTest.java</code>
file.</li><li class="listitem"><p class="simpara">Right click it to open the context menu, and select
<span class="strong"><strong>Run as JUnit Test</strong></span>.</p><p class="simpara">The JUnit Test pane opens to display the status of the test. To avoid
cluttering your workspace, drag and drop the pane in the bottom panel near
the <span class="strong"><strong>Console</strong></span> view.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTjunitTest.png" alt="Description"></div></div></li><li class="listitem">Open the <span class="strong"><strong>Console</strong></span> view to see the log output.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="mapVariable"></a>Mapping a constant variable to a data item</h4></div></div></div><p>When a source/target data item has no corresponding target/source data
item, you can map a constant variable to the existing data item.</p><p>In the <code class="literal">starter</code> example, the target data item
<code class="literal">origin</code> does not have a corresponding source data item. To
map the <code class="literal">origin</code> attribute to a constant variable:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Source</strong></span> panel, click the <span class="strong"><strong>Variables</strong></span>
view.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTaddNewVarView1.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Variables</strong></span> view, click
<span class="inlinemediaobject"><img src="./images/DTaddNewVarIcon.png" alt="Add a new variable icon"></span> to open the <span class="strong"><strong>Enter a new variable
name</strong></span> dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTnewVarName.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Enter a name for the variable you want to create.</p><p class="simpara">For the <code class="literal">starter</code> example, enter
<code class="literal"><span class="strong"><strong>ORIGIN</strong></span></code>.</p></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>OK</strong></span>.</p><p class="simpara">The newly created variable <code class="literal">ORIGIN</code> appears in the
<span class="strong"><strong>Variables</strong></span> view in the <span class="strong"><strong>Name</strong></span>
column and the default value <code class="literal">ORIGIN</code> in the <span class="strong"><strong>Value</strong></span>
column.</p></li><li class="listitem">Click the default value to edit it, and change the value to <code class="literal">Web</code>.</li><li class="listitem">Press <span class="strong"><strong>Enter</strong></span>.</li><li class="listitem"><p class="simpara">Drag and drop the new variable <code class="literal">ORIGIN</code> onto the
<code class="literal">origin</code> data item in the
<span class="strong"><strong>Target</strong></span> panel.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTnewVarMapToTarget.png" alt="Description"></div></div><p class="simpara">The new mapping of the variable <code class="literal">$(ORIGIN)</code> appears in
the <span class="strong"><strong>Mappings</strong></span> panel and in the details pane.</p></li><li class="listitem"><p class="simpara">Run a JUnit test on your
<code class="literal">TransformationTest.java</code> file. For details, see
<a class="xref" href="RiderDevPart.html#DTtestCreate" title="Creating the transformation test file and running the JUnit test">Creating the transformation test file and running the JUnit test</a>.</p><p class="simpara">The <span class="strong"><strong>Console</strong></span> view displays the JSON-formatted output
data:</p><pre class="screen">{"custId":"ACME-123","priority":"GOLD","orderId":"ORDER1","<span class="strong"><strong>origin":"Web</strong></span>",
"approvalCode":"AUTO_OK","lineItems":[{"itemId":"PICKLE","amount":1000,"cost":2.25},
{"itemId":"BANANA","amount":400,"cost":1.25}]}</pre></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="mapExpression"></a>Mapping an expression to a data item</h4></div></div></div><p>This feature enables you, for example, to map a target data item to the dynamic
evaluation of a Camel language expression.</p><p>Use the target <code class="literal">approvalCode</code> data item, which lacks a
corresponding source data item:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Click
<span class="inlinemediaobject"><img src="./images/DTaddNewMapIcon.png" alt="Add a new mapping icon"></span> to add an empty transformation map to the
<span class="strong"><strong>Mappings</strong></span> panel.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtransformEditor6.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">From the <span class="strong"><strong>Target</strong></span> panel, drag and drop the
<code class="literal">approvalCode</code> data item to the target field of the
newly created mapping in the <span class="strong"><strong>Mappings</strong></span>
panel.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtransformEditor7.png" alt="Description"></div></div><p class="simpara">The <code class="literal">approvalCode</code> data item also appears in the
details pane&#8217;s target box.</p></li><li class="listitem"><p class="simpara">In the details pane, click
<span class="inlinemediaobject"><img src="./images/menu10x5.gif" alt="drop-down menu access"></span> on the <code class="literal">ABCOrder</code> source box to open
the drop-down menu.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTdetailsViewMenu.png" alt="Description"></div></div><p class="simpara">Menu options depend on the selected data item&#8217;s data type. The available
options are bolded.</p></li><li class="listitem"><p class="simpara">Select <span class="strong"><strong>Set expression</strong></span> to open the <span class="strong"><strong>Expression</strong></span>
dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTsetExpressPage.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Language</strong></span>, select the expression language to use from the list of those
available. Available options depend on the data item&#8217;s data type.</p><p class="simpara">For the <code class="literal">starter</code> example, select
<span class="strong"><strong>Header</strong></span>.</p></li><li class="listitem"><p class="simpara">In the details pane, select the source of the expression to use.</p><p class="simpara">The options are <span class="strong"><strong>Value</strong></span> and
<span class="strong"><strong>Script</strong></span>.</p><p class="simpara">For the <code class="literal">starter</code> example, click
<span class="strong"><strong>Value</strong></span>, and then enter
<code class="literal">ApprovalID</code>.</p></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>OK</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTtransformEditor8.png" alt="Description"></div></div><p class="simpara">Both the <span class="strong"><strong>Mappings</strong></span> panel and the details pane display
the new mapping for the target data item
<code class="literal">approvalCode</code>.</p></li><li class="listitem"><p class="simpara">Run a JUnit test on your <code class="literal">TransformationTest.java</code>
file. For details, see <a class="xref" href="RiderDevPart.html#DTtestCreate" title="Creating the transformation test file and running the JUnit test">Creating the transformation test file and running the JUnit test</a>.</p><p class="simpara">The <span class="strong"><strong>Console</strong></span> view displays the JSON-formatted output
data:</p><pre class="screen">{"custId":"ACME-123","priority":"GOLD","orderId":"ORDER1","origin":"Web",
"<span class="strong"><strong>approvalCode":"AUTO_OK</strong></span>","lineItems":[{"itemId":"PICKLE","amount":1000,"cost":2.25},
{"itemId":"BANANA","amount":400,"cost":1.25}]}</pre></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="addCustomFunc"></a>Adding a  custom transformation to a mapped data item</h4></div></div></div><p>You may need to modify the formatting of source data items when they do not
satisfy the requirements of the target system.</p><p>For example, to satisfy the target system&#8217;s requirement that all customer IDs be
enclosed in brackets:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Mappings</strong></span> panel, select the <code class="literal">customerNum</code>
mapping to populate the details pane.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTaddCustFunc1.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">In the details pane, click
<span class="inlinemediaobject"><img src="./images/menu10x5.gif" alt="drop-down menu access"></span> on the <code class="literal">ABCOrder</code> source box to open
the drop-down menu.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTaddCustFunc2.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Select <span class="strong"><strong>Add custom transformation</strong></span> to open the <span class="strong"><strong>Add
Custom Transformation</strong></span> page.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTaddCustFuncDialog.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Click
<span class="inlinemediaobject"><img src="./images/DTcreateCustFuncIcon.png" alt="create new function button"></span> next to the <span class="strong"><strong>Class</strong></span> field to open
the <span class="strong"><strong>Create a New Java Class</strong></span> wizard.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTcreateNewJavaClass1.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Modify the following fields:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Package</strong></span>&#8201;&#8212;&#8201;Enter
<code class="literal">example</code>.</li><li class="listitem"><span class="strong"><strong>Name</strong></span>&#8201;&#8212;&#8201;Enter
<code class="literal">MyCustomMapper</code>.</li><li class="listitem"><p class="simpara"><span class="strong"><strong>Method Name</strong></span>&#8201;&#8212;&#8201;Change
<code class="literal">map</code> to
<code class="literal">brackets</code>.</p><p class="simpara">Leave all other fields as is.</p></li></ul></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><p class="simpara">The <span class="strong"><strong>Add Custom Transformation</strong></span> page opens with the
<span class="strong"><strong>Class</strong></span> and <span class="strong"><strong>Method</strong></span> fields auto
filled:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTSelNewJavaClassMethod.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>OK</strong></span> to open the
<code class="literal">MyCustomMapper.java</code> file in the
Java editor:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTmyCustMapperJavaFile1.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Edit the <code class="literal">brackets</code> method to change the last line <code class="literal">return null;</code>
to this:</p><pre class="screen">return "[" + input + "]";</pre></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>transformation.xml</strong></span> tab to switch back to
the transformation editor.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTcustFuncMapped.png" alt="Description"></div></div><p class="simpara">The details pane shows that the <code class="literal">brackets</code> method
has been associated with the <code class="literal">customerNum</code> data
item.</p><p class="simpara">The <code class="literal">brackets</code> method is executed on the source
input before it is sent to the target system.</p></li><li class="listitem"><p class="simpara">Run a JUnit test on your <code class="literal">TransformationTest.java</code>
file. For details, see <a class="xref" href="RiderDevPart.html#DTtestCreate" title="Creating the transformation test file and running the JUnit test">Creating the transformation test file and running the JUnit test</a>.</p><p class="simpara">The <span class="strong"><strong>Console</strong></span> view displays the JSON-formatted output
data:</p><pre class="screen">{"custId":"[ACME-123]","priority":"GOLD","orderId":"ORDER1","origin":"Web",
"approvalCode":"AUTO_OK","lineItems":[{"itemId":"PICKLE","amount":1000,"cost":2.25},
{"itemId":"BANANA","amount":400,"cost":1.25}]}</pre></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="mapToCollection"></a>Mapping a simple data item to a data item in a collection</h4></div></div></div><p>In this tutorial, you will modify an existing mapping that maps all
<code class="literal">id</code>s in the Source to the <code class="literal">itemId</code>s in
the Target. The new mapping will map the <code class="literal">customerNum</code> data item
in the Source to the <code class="literal">itemId</code> of the second item in the
<code class="literal">lineItems</code> collection in the Target.</p><p>With this change, no <code class="literal">id</code>s in the Source will be mapped to
<code class="literal">itemId</code>s in the Target.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Mappings</strong></span> panel, select the mapping <code class="literal">id</code>
&#8201;&#8212;&#8201;&gt; <code class="literal">itemId</code> to display the mapping in the details
pane.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/set_property_details.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">On the Source box, click
<span class="inlinemediaobject"><img src="./images/menu10x5.gif" alt="drop-down menu access"></span> to open the drop-down menu, and select <span class="strong"><strong>Set
property</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/set_property_drpdwn_menu.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Select a property</strong></span> page, expand the
<code class="literal">header</code> node and select
<code class="literal">customerNum</code>. Click <span class="strong"><strong>OK</strong></span> to save the changes.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/select_a_property.png" alt="select a property"></div></div></li><li class="listitem"><p class="simpara">The details pane now shows that <code class="literal">XyzOrder</code> has a
<code class="literal">lineItems</code> field. Click the toggle button next to
<code class="literal">lineItems</code> to increase its value to
<code class="literal">1</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Indexes are zero-based, so a value of <code class="literal">1</code> selects the
second instance of <code class="literal">itemId</code> in the collection.</p></td></tr></table></div><div class="informalfigure"><div class="mediaobject"><img src="./images/DTsetProperty6.png" alt="Description"></div></div><p class="simpara">Notice that the details pane shows <code class="literal">customerNum</code> mapped
to the <code class="literal">itemId</code> of the second item in the
<code class="literal">lineItems</code> collection.</p></li><li class="listitem"><p class="simpara">Run a JUnit test on your <code class="literal">TransformationTest.java</code>
file. For details, see <a class="xref" href="RiderDevPart.html#DTtestCreate" title="Creating the transformation test file and running the JUnit test">Creating the transformation test file and running the JUnit test</a>.</p><p class="simpara">The <span class="strong"><strong>Console</strong></span> view displays the JSON-formatted output
data:</p><pre class="screen">{"custId":"[ACME-123]","priority":"GOLD","orderId":"ORDER1","origin":"Web",
"approvalCode":"AUTO_OK","lineItems":[{"amount":1000,"cost":2.25},
{"<span class="strong"><strong>itemId":"ACME-123</strong></span>","amount":400,"cost":1.25}]}</pre></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="addBuiltinFunc"></a>Adding a built-in function to a mapped data item</h4></div></div></div><p>You can use the built-in string-related functions to apply transformations to
mapped data items.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Transformations</strong></span> panel, select the
<code class="literal">status</code> to <code class="literal">priority</code> mapping to
populate the details pane.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/built_in1.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">In the Source box, click
<span class="inlinemediaobject"><img src="./images/menu10x5.gif" alt="drop-down menu access"></span> to open the drop-down menu, and select <span class="strong"><strong>Add
transformation</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/new_trans.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Transformations</strong></span> pane, select
<code class="literal">append</code>, and in the <span class="strong"><strong>Arguments</strong></span>
pane, enter <code class="literal">-level</code> for the value of
<span class="strong"><strong>suffix</strong></span>.</p><p class="simpara">This <code class="literal">append</code> function adds the specified suffix to the
end of the <code class="literal">status</code> string before mapping it to the
target <code class="literal">priority</code> data item.</p><div class="informalfigure"><div class="mediaobject"><img src="./images//DTaddFuncAppnd.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>OK</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images//DTaddFuncStatusSrc.png" alt="Description"></div></div><p class="simpara">By default, the details pane displays the results of adding the
<code class="literal">append</code> function to the <code class="literal">status</code>
data item in a user-friendly format. You can change this formatting by
clicking the right-most
<span class="inlinemediaobject"><img src="./images/menu10x5.gif" alt="drop-down menu access"></span> on the Source box, and selecting <span class="strong"><strong>Show
standard formatting</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images//DTaddFuncAppndStd.png" alt="Description"></div></div></li><li class="listitem"><p class="simpara">Run a JUnit test on your <code class="literal">TransformationTest.java</code>
file. For details, see <a class="xref" href="RiderDevPart.html#DTtestCreate" title="Creating the transformation test file and running the JUnit test">Creating the transformation test file and running the JUnit test</a>.</p><p class="simpara">The <span class="strong"><strong>Console</strong></span> view displays the JSON-formatted output
data:</p><pre class="screen">{"custId":"[ACME-123]","priority":"<span class="strong"><strong>GOLD-level</strong></span>","orderId":"ORDER1","origin":"Web",
"approvalCode":"AUTO_OK","lineItems":[{"amount":1000,"cost":2.25},{"itemId":"ACME-123",
"amount":400,"cost":1.25}]}</pre></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_publishing_a_fuse_integration_project_with_data_transformation_to_a_red_hat_fuse"></a>Publishing a Fuse Integration project with data transformation to a Red Hat Fuse</h4></div></div></div><pre class="literallayout">server</pre><p>Before you publish your data transformation project to a Fuse server (see
<a class="xref" href="RiderDeployPart.html#FIDEDeployingContainer" title="Publishing Fuse Integration Projects to a Server">Publishing Fuse Integration Projects to a Server</a>), you need to install the following
features in the Fuse runtime:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="literal">camel-dozer</code></li><li class="listitem"><code class="literal">camel-jackson</code></li><li class="listitem"><code class="literal">camel-jaxb</code></li></ul></div><p>To install the required features on the Fuse runtime:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">If not already there, switch to the <span class="strong"><strong>Fuse Integration</strong></span> perspective.</li><li class="listitem">If necessary, add the Fuse server to the <span class="strong"><strong>Servers</strong></span> list (see <a class="xref" href="RiderDeployPart.html#FIDEAddServer" title="Adding a Server">Adding a Server</a>).</li><li class="listitem">Start the Fuse Server (see <a class="xref" href="RiderDeployPart.html#FIDEStartServer" title="Starting a Server">Starting a Server</a>), and wait for the JBoss
Fuse shell to appear in the <span class="strong"><strong>Terminal</strong></span> view.</li><li class="listitem"><p class="simpara">For each of the required <code class="literal">camel-</code> features, at the
<code class="literal">JBossFuse:admin@root&gt;</code> prompt type:</p><p class="simpara"><code class="literal"><span class="strong"><strong>features:install camel-&lt;featureName&gt;</strong></span></code></p><p class="simpara">Where <span class="emphasis"><em>featureName</em></span> is one of
<code class="literal">dozer</code>, <code class="literal">jackson</code>, or
<code class="literal">jaxb</code>.</p></li><li class="listitem"><p class="simpara">To verify that each of the features was successfully installed, at the
<code class="literal">JBossFuse:admin@root&gt;</code> prompt type:</p><p class="simpara"><code class="literal"><span class="strong"><strong>features:list --ordered --installed</strong></span></code></p><p class="simpara">You should see the camel features you just installed in the output
listing:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/DTCamFeatsInstalled.png" alt="DTCamFeatsInstalled"></div></div></li></ol></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IgniteExtension"></a>Developing extensions for Ignite integrations</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#Overview">Overview of tasks</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#Prerequisites">Prerequisites</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#CreateCustomConnector">Creating a custom connector</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#CreateCustomStep">Creating custom steps</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#BuildJar">Building the Ignite extension JAR file</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#ProvideJar">Providing the JAR file to the Ignite user</a></span></dt></dl></div><p>Ignite is a Red Hat Fuse feature that provides a web interface for integrating applications. Without writing code, a business expert can use Ignite to connect to applications and optionally operate on data between connections to different applications. If Ignite does not provide a feature that an integrator needs, then a developer can create an extension that defines the needed behavior.</p><p>You can use Fuse Tooling to develop extensions that provide features for use in Ignite. An extension defines:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">One or more custom <span class="strong"><strong>steps</strong></span> that operate on data between connections in an integration</p><p class="simpara">or</p></li><li class="listitem">One custom <span class="strong"><strong>connector</strong></span></li></ul></div><p>In Ignite, a <span class="strong"><strong>connector</strong></span> represents a specific application to obtain data from or send data to. Each connector is a template for creating a connection to that specific application. For example, the Salesforce connector is the template for creating  a connection to Salesforce. If Ignite does not provide a connector that the Ignite user needs, you can develop an extension that defines a custom connector.</p><p>In Ignite, a data operation that happens between connections in an integration is referred to as a <span class="strong"><strong>step</strong></span>. Ignite provides steps for operations such as filtering and mapping data. To operate on data between connections in ways that are not provided by Ignite built-in steps, you can develop an Ignite extension that defines one or more custom steps.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Overview"></a>Overview of tasks</h3></div></div></div><p>Here is an overview of the tasks for developing an Ignite extension:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In Red Hat Developer Studio, create an Ignite extension project and select <span class="strong"><strong>Custom Connector</strong></span> or <span class="strong"><strong>Custom Step</strong></span> as the extension type.</li><li class="listitem"><p class="simpara">Depending on the extension type, write the code for the extension:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">For a <span class="strong"><strong>Custom Connector</strong></span>: Define the base Camel component, the connector icon, global connector properties, and the connector actions.</li><li class="listitem">For a <span class="strong"><strong>Custom Step</strong></span>: Add routes, define actions, and specify any dependencies.</li></ul></div></li><li class="listitem">Build a <code class="literal">.jar</code> file.</li><li class="listitem">Provide the <code class="literal">.jar</code> file to the Ignite user.</li></ol></div><p>The Ignite user uploads the <code class="literal">.jar</code> file to Ignite and can then add the custom connector or custom step defined in the extension to an integration. The Ignite user uploads the .jar file to Ignite, which makes the custom connector or custom step(s) available for use. For information about Ignite and how to create integrations, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jbossfuse/7.0-tp/html-single/integrating_applications_with_ignite" target="_top">Integrating Applications with Ignite</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Prerequisites"></a>Prerequisites</h3></div></div></div><p>Before you begin, you need the following information and knowledge:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">A description of the required functionality for the Ignite custom connector or step (from the Ignite user).</li><li class="listitem">The Ignite version number for the extension.</li><li class="listitem">For a custom connector, an icon image file in PNG or SVG format. Ignite uses this icon when it displays the flow of an integration. If you do not provide an icon, then Ignite generates one when the .jar that contains the extension is uploaded.</li><li class="listitem"><p class="simpara">You should be familiar with:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">Ignite</li><li class="listitem">Spring Boot XML or Java</li><li class="listitem">Apache Camel routes (if you want to create a route-based step extension)</li><li class="listitem">JSON</li><li class="listitem">Maven</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="CreateCustomConnector"></a>Creating a custom connector</h3></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#CreateIgniteProjectConnector">Creating an Ignite Extension project for a custom connector</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#WriteCodeConnector">Writing code for the custom connector</a></span></dt></dl></div><p>In Ignite, a custom connector consists of one or more connection configuration parameters, one or more connection actions, and optional configuration parameters for each action.</p><p>Here is an overview of the tasks for developing a custom connector:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In Red Hat Developer Studio, create an Ignite extension project and select <span class="strong"><strong>Custom Connector</strong></span> as the extension type.</li><li class="listitem">Write the code for the extension. Define the base Camel component, the connector icon, global connector properties, and the connector actions.</li></ol></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="CreateIgniteProjectConnector"></a>Creating an Ignite Extension project for a custom connector</h4></div></div></div><p>A Fuse Tooling Ignite extension project provides a starting point for a custom connector.</p><p>To create a Fuse Tooling Ignite extension project, follow these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In Red Hat Developer Studio, select <span class="strong"><strong>New</strong></span> &#8594; <span class="strong"><strong>Project</strong></span> &#8594; <span class="strong"><strong>Red Hat Fuse</strong></span> &#8594; <span class="strong"><strong>Fuse Ignite Extension Project</strong></span>.</p><p class="simpara">The <span class="strong"><strong>New Fuse Ignite Extension Project</strong></span> wizard opens.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/IgniteExtWiz_page1.png" alt="IgniteExtWiz page1"></div></div></li><li class="listitem"><p class="simpara">Enter the name and location for the project, then click <span class="strong"><strong>Next</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/IgniteExtWiz_page2.png" alt="IgniteExtWiz page2"></div></div></li><li class="listitem">Select the Fuse Ignite version.</li><li class="listitem"><p class="simpara">Specify the following extension details:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>ID</strong></span>&#8201;&#8212;&#8201;A value that you define and that is unique in the Ignite environment. This value will be visible in Ignite when the Ignite user imports the extension <code class="literal">.jar</code> file.</li><li class="listitem"><span class="strong"><strong>Name</strong></span>&#8201;&#8212;&#8201;The name of the extension. This value will be visible in Ignite as the extension name. In Ignite, on the <span class="strong"><strong>Customizations</strong></span> &#8594; <span class="strong"><strong>Extensions</strong></span> tab, the user can see a list of the names and descriptions of extensions that have been uploaded to Ignite.</li><li class="listitem"><span class="strong"><strong>Description</strong></span>&#8201;&#8212;&#8201;An optional description of the extension content.</li><li class="listitem"><span class="strong"><strong>Version</strong></span>&#8201;&#8212;&#8201;The version of the extension. For example, if this is the initial version, you could type <span class="strong"><strong><code class="literal">1.0</code></strong></span>. If you are updating a version, you could type <span class="strong"><strong><code class="literal">1.1</code></strong></span> or <span class="strong"><strong><code class="literal">2.0</code></strong></span>.</li></ul></div></li><li class="listitem"><p class="simpara">Select <span class="strong"><strong>Custom Connector</strong></span> for the kind of Fuse Ignite extension that you want to create.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/IgniteExtWiz_connector.png" alt="IgniteExtWiz connector"></div></div></li><li class="listitem">Click <span class="strong"><strong>Finish</strong></span>.</li></ol></div><p>The new project appears in the Red Hat Developer Studio <span class="strong"><strong>Project Explorer</strong></span> view. It includes the following files for a custom connector extension:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">In the <code class="literal">src/main/resources/META-INF/syndesis</code> folder:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara">A descriptor file: <code class="literal">syndesis-extension-definition.json</code></p><p class="simpara">This is the file that you edit to:
<span class="strong"><strong>* Add top-level global properties, connector actions, and action properties.
</strong></span>* Change the Extension Id, Name, Version, or Description values.</p></li><li class="listitem"><p class="simpara">A default icon image file: <code class="literal">icon.png</code></p><p class="simpara">You can optionally replace this file with your own icon image (PNG or SVG) file.</p></li></ul></div></li><li class="listitem"><p class="simpara">A Maven Project Object Model file: <code class="literal">pom.xml</code></p><p class="simpara">This file contains information about the project and configuration details used by Maven to build the project, including default extension dependencies. You edit this file to add custom dependencies. The scope for any dependency that Red Hat ships is provided, for example:</p><pre class="screen">&lt;dependency&gt;
    &lt;groupId&gt;io.syndesis.extension&lt;/groupId&gt;
    &lt;artifactId&gt;extension-api&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-core&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="WriteCodeConnector"></a>Writing code for the custom connector</h4></div></div></div><p>After you create the Ignite extension project, you write the code that defines the custom connector elements based on the description of the required functionality provided to you by the Ignite user.
The <a class="xref" href="RiderDevPart.html#ConnectorMappingTbl" title="Table&nbsp;2.&nbsp;Custom connector elements">Table&nbsp;2, &#8220;Custom connector elements&#8221;</a> table shows how the elements of the custom connector that you create in Fuse Tooling correspond to elements in Ignite.</p><div class="table"><a name="ConnectorMappingTbl"></a><p class="title"><b>Table&nbsp;2.&nbsp;Custom connector elements</b></p><div class="table-contents"><table summary="Custom connector elements" border="1"><colgroup><col width="33%" class="col_1"><col width="33%" class="col_2"><col width="34%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Fuse Tooling element</th><th align="left" valign="top">Ignite element</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Global (top-level) property</p></td><td align="left" valign="top"><p>Connection configuration parameter</p></td><td align="left" valign="top"><p>When an Ignite user creates a connection from this connector, the user specifies a value for this property as part of the configuration of the connection.</p></td></tr><tr><td align="left" valign="top"><p>Action</p></td><td align="left" valign="top"><p>Connection action</p></td><td align="left" valign="top"><p>In Ignite, for a connection created from this connector, an Ignite user selects one of these actions.</p></td></tr><tr><td align="left" valign="top"><p>Property defined in an action</p></td><td align="left" valign="top"><p>An action configuration parameter</p></td><td align="left" valign="top"><p>When an Ignite user configures the action that the connection performs, the Ignite user specifies a value for this property as part of the configuration of the action.</p></td></tr></tbody></table></div></div><br class="table-break"><p>To write the code that implements a custom connector for Ignite:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Open the syndesis-extension-definition.json file in the Editor view and write the code that defines the global properties, the actions that the custom connector can perform, and each action&#8217;s properties.</p><p class="simpara">Each <span class="strong"><strong>global property</strong></span> corresponds to a connection configuration parameter in Ignite. Each action property corresponds to an Ignite connection actionconfiguration parameter. In Ignite, when the user selects a custom connector, Ignite prompts for values for each connection configuration parameter. A custom connector can be for an application that uses the OAuth protocol. In this case, be sure to specify a global property for the OAuth client ID and another global property for the OAuth client secret. The Ignite user will need to specify values for these parameters for a connection created from this connector to work.</p><p class="simpara">Each <span class="strong"><strong>connector action</strong></span>  declares a base Camel component scheme.</p><p class="simpara">The example provided by the New Fuse Ignite Extension Project wizard uses the <code class="literal">telegram</code> Camel component scheme:</p><pre class="screen">{
  "schemaVersion" : "v1",
  "name" : "Example Ignite Extension",
  "extensionId" : "ignite.extension.example",
  "version" : "1.0.0",
  "actions" : [ {
    "id" : "io.syndesis:telegram-chat-from-action",
    "name" : "Chat Messages",
    "description" : "Receive all messages sent to the chat bot",
    "descriptor" : {
      "componentScheme" : "telegram",
      "inputDataShape" : {
        "kind" : "none"
      },
      "outputDataShape" : {
        "kind" : "java",
        "type" : "org.apache.camel.component.telegram.model.IncomingMessage"
      },
      "configuredProperties" : {
        "type" : "bots"
      }
    },
    "actionType" : "connector",
    "pattern" : "From"
  }, {
    "id" : "io.syndesis:telegram-chat-to-action",
    "name" : "Send a chat Messages",
    "description" : "Send a messages to the chat (through the bot).",
    "descriptor" : {
      "componentScheme" : "telegram",
      "inputDataShape" : {
        "kind" : "java",
        "type" : "java.lang.String"
      },
      "outputDataShape" : {
        "kind" : "none"
      },
      "propertyDefinitionSteps" : [ {
        "description" : "Chat id",
        "name" : "chatId",
        "properties" : {
          "chatId" : {
            "kind" : "parameter",
            "displayName" : "Chat Id",
            "type" : "string",
            "javaType" : "String",
            "description" : "The telegram's Chat Id, if not set will use CamelTelegramChatId from the incoming exchange."
          }
        }
      } ],
      "configuredProperties" : {
        "type" : "bots"
      }
    },
    "actionType" : "connector",
    "pattern" : "To"
  } ],
  "properties" : {
    "authorizationToken" : {
      "kind" : "property",
      "displayName" : "Authorization Token",
      "group" : "security",
      "label" : "security",
      "required" : true,
      "type" : "string",
      "javaType" : "java.lang.String",
      "secret" : true,
      "description" : "Telegram Bot Authorization Token"
    }
  }
}</pre></li><li class="listitem"><p class="simpara">If the custom connector requires additional dependencies, add them to the project&#8217;s <code class="literal">pom.xml</code> file. The default scope for dependencies is runtime.  If you add a dependency that Red Hat ships, define its scope as provided, for example:</p><pre class="screen">&lt;dependencies&gt;
    &lt;dependency&gt;
          &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
          &lt;artifactId&gt;camel-telegram&lt;/artifactId&gt;
          &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;
      &lt;/dependencies&gt;</pre></li></ol></div><p>When you finish writing the code for the custom connector, build the <code class="literal">.jar</code> file as described in <a class="xref" href="RiderDevPart.html#BuildJar" title="Building the Ignite extension JAR file">Building the Ignite extension JAR file</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="CreateCustomStep"></a>Creating custom steps</h3></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderDevPart.html#CreateIgniteProjectStep">Creating an Ignite Extension project for custom steps</a></span></dt><dt><span class="section"><a href="RiderDevPart.html#WriteCodeStep">Writing code for the custom step</a></span></dt></dl></div><p>After you create the Ignite extension project, you write the code that defines the custom steps based on the description of the required functionality provided to you by the Ignite user. Within a single extension, you can define more than one custom step and you can define each custom step with Camel routes or with Java beans.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="CreateIgniteProjectStep"></a>Creating an Ignite Extension project for custom steps</h4></div></div></div><p>To create a Fuse Tooling Ignite extension project, follow these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In Red Hat Developer Studio, select <span class="strong"><strong>New</strong></span> &#8594; <span class="strong"><strong>Project</strong></span> &#8594; <span class="strong"><strong>Red Hat Fuse</strong></span> &#8594; <span class="strong"><strong>Fuse Ignite Extension Project</strong></span>.</p><p class="simpara">The <span class="strong"><strong>New Fuse Ignite Extension Project</strong></span> wizard opens.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/IgniteExtWiz_page1.png" alt="IgniteExtWiz page1"></div></div></li><li class="listitem"><p class="simpara">Enter the name and location for the project, then click <span class="strong"><strong>Next</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/IgniteExtWiz_page2.png" alt="IgniteExtWiz page2"></div></div></li><li class="listitem">Select the Fuse Ignite version.</li><li class="listitem"><p class="simpara">Specify the following extension details:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>ID</strong></span>&#8201;&#8212;&#8201;A value that you define and that is unique in the Ignite environment. This value will be visible in Ignite when the Ignite user imports the extension <code class="literal">.jar</code> file.</li><li class="listitem"><span class="strong"><strong>Name</strong></span>&#8201;&#8212;&#8201;The name of the extension. This value will be visible in Ignite as the extension name. In Ignite, on the <span class="strong"><strong>Customizations</strong></span> &#8594; <span class="strong"><strong>Extensions</strong></span> tab, the user can see a list of the names and descriptions of extensions that have been uploaded to Ignite.</li><li class="listitem"><span class="strong"><strong>Description</strong></span>&#8201;&#8212;&#8201;An optional description of the extension content.</li><li class="listitem"><span class="strong"><strong>Version</strong></span>&#8201;&#8212;&#8201;The version of the extension. For example, if this is the initial version, you could type <span class="strong"><strong><code class="literal">1.0</code></strong></span>. If you are updating a version, you could type <span class="strong"><strong><code class="literal">1.1</code></strong></span> or <span class="strong"><strong><code class="literal">2.0</code></strong></span>.</li></ul></div></li><li class="listitem">Select <span class="strong"><strong>Custom Step</strong></span> for the kind of Fuse Ignite extension that you want to create.</li><li class="listitem"><p class="simpara">Select the template for the custom step:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/IgniteExtWiz_step.png" alt="IgniteExtWiz step"></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Camel route</strong></span>&#8201;&#8212;&#8201;Provides a sample Camel route.</li><li class="listitem"><p class="simpara"><span class="strong"><strong>Java bean</strong></span>&#8201;&#8212;&#8201;Provides a sample Java bean.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The template that you select provides a starting point for your project. If you want to create one or more custom steps based on Camel routes and one or more other custom steps based on Java beans within the same extension, start with one of the templates and then add the needed file and dependencies for the other type of custom step.</p></td></tr></table></div></li></ul></div></li><li class="listitem">Click <span class="strong"><strong>Finish</strong></span>.</li></ol></div><p>The new project appears in the Red Hat Developer Studio <span class="strong"><strong>Project Explorer</strong></span> view.  It includes the following files depending on the template that you selected for the custom step:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">In the <code class="literal">src/main/resources/META-INF/syndesis</code> folder:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p class="simpara">A descriptor file: <code class="literal">syndesis-extension-definition.json</code></p><p class="simpara">This is the file that you edit to:
<span class="strong"><strong>* Add one or more actions. An action in the `.json `file becomes a custom step in Ignite. In an action element, a property in the `.json `file becomes a step configuration  parameter in Ignite.
</strong></span>* Change the Extension Id, Name, Version, or Description values.</p></li><li class="listitem"><p class="simpara">For a Camel route template, a Camel context file: <code class="literal">extensions/log-body-action.xml</code></p><p class="simpara">This file contains a sample route with a log component. You customize the Camel routes in this file.</p></li><li class="listitem"><p class="simpara">For a Java bean template, a Java file: <code class="literal">extensions/extension.java</code></p><p class="simpara">This file contains a sample POJO-based logging extension.</p></li></ul></div></li><li class="listitem"><p class="simpara">A Maven Project Object Model file: <code class="literal">pom.xml</code></p><p class="simpara">This file contains information about the project and configuration details used by Maven to build the project, including default extension dependencies. You edit this file to add custom dependencies. The scope for any dependency that Red Hat ships is provided, for example:</p><pre class="screen">&lt;dependency&gt;
    &lt;groupId&gt;io.syndesis.extension&lt;/groupId&gt;
    &lt;artifactId&gt;extension-api&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-core&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="WriteCodeStep"></a>Writing code for the custom step</h4></div></div></div><p>After you create the Ignite extension project, you write the code that defines the custom step(s)based on the description of the required functionality provided to you by the Ignite user.</p><p><a class="xref" href="RiderDevPart.html#StepMappingTbl" title="Table&nbsp;3.&nbsp;Custom step elements">Table&nbsp;3, &#8220;Custom step elements&#8221;</a> shows how the elements of the custom step that you create in Fuse Tooling correspond to elements in Ignite.</p><div class="table"><a name="StepMappingTbl"></a><p class="title"><b>Table&nbsp;3.&nbsp;Custom step elements</b></p><div class="table-contents"><table summary="Custom step elements" border="1"><colgroup><col width="33%" class="col_1"><col width="33%" class="col_2"><col width="34%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Fuse Tooling element</th><th align="left" valign="top">Ignite element</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Action</p></td><td align="left" valign="top"><p>Custom Step</p></td><td align="left" valign="top"><p>In Ignite, after the user imports the step extension, the custom step(s) appear(s) on the <span class="strong"><strong>Choose a step</strong></span> page.</p></td></tr><tr><td align="left" valign="top"><p>Property defined in an action</p></td><td align="left" valign="top"><p>A custom step configuration parameter</p></td><td align="left" valign="top"><p>In Ignite, when the user selects a custom step, Ignite prompts for values for configuration parameters.</p></td></tr></tbody></table></div></div><br class="table-break"><p>To write the code that implements a custom step for Ignite:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">For a Camel route-based step, in the <code class="literal">extension.xml</code> file, create routes that address the purpose of the extension. The entrypoint of each route must match the entrypoint that you define in the <code class="literal">syndesis-extension-definition.json</code> file, as described in Step 2.</p><p class="simpara">For a Java bean-based step, edit the <code class="literal">java</code> file.</p></li><li class="listitem"><p class="simpara">In the <code class="literal">syndesis-extension-definition.json</code> file, write the code that defines the actions and their properties. You need a new action for each entrypoint.</p><p class="simpara">Each action that you create corresponds to a custom step in Ignite. You can use different types of code for each action. That is, you can use a Camel route for one action and a Java bean for another action.</p><p class="simpara">Each property corresponds to an Ignite step configuration parameter. In Ignite, when the user selects a custom step, Ignite prompts for values for configuration parameters. For example, a custom log step might have a level parameter that indicates how much information to send to the log.</p><p class="simpara">Here is the template for the <code class="literal">.json</code> file that contains the extension metadata, including properties that will be filled in by the user in Ignite after uploading the extension and adding its custom step to an integration:</p><pre class="screen">{
  "actions": [
    {
      "actionType": "extension",
      "id": "${actionId}",
      "name": "Action Name",
      "description": "Action Description",
      "tags": [
           "xml"
      ],
      "descriptor": {
        "kind": "ENDPOINT|BEAN|STEP",
        "entrypoint": "direct:${actionId}",
        "inputDataShape": {
          "kind": "any"
        },
        "outputDataShape": {
          "kind": "any"
        },
        "propertyDefinitionSteps": []
      }
    }
  ],
  "tags": [
    "feature",
    "experimental"
  ]
}</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The tags are ignored in this release. They are reserved for future use.</p></td></tr></table></div></li><li class="listitem">To edit the extension dependencies, open the `pom.xml `file in the editor. If you add a dependency, you must define its scope.</li></ol></div><p>When you finish writing the code for the custom step(s), build the <code class="literal">.jar</code> file as described in <a class="xref" href="RiderDevPart.html#BuildJar" title="Building the Ignite extension JAR file">Building the Ignite extension JAR file</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="BuildJar"></a>Building the Ignite extension JAR file</h3></div></div></div><p>To build the <code class="literal">.jar</code> file for the extension:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Project Explorer</strong></span> view, right-click the project.</li><li class="listitem">From the context menu, select <span class="strong"><strong>Run As</strong></span> &#8594; <span class="strong"><strong>Maven clean verify</strong></span>.</li><li class="listitem">In the <span class="strong"><strong>Console</strong></span> view, you can monitor the progress of the build.</li><li class="listitem">When the build is complete, refresh the target folder in the <span class="strong"><strong>Project Explorer</strong></span> view (select the project and then press <span class="strong"><strong>F5</strong></span>).</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Project Explorer</strong></span> view, open the target folder to see the generated <code class="literal">.jar</code> file:</p><p class="simpara">The name of the .jar file follows Maven defaults: <code class="literal">${artifactId}-${version}.jar</code></p><p class="simpara">For example: <code class="literal">custom:step-camel-1.0.0.jar</code></p><p class="simpara">This <code class="literal">.jar</code> file defines the extension, its required dependencies, and its metadata: Extension Id, Name, Version, Tags, and Description. For example:</p><pre class="screen">{
    "schemaVersion" : "v1",
    "name" : "Example Ignite Extension",
    "description" : "Logs a message body with a prefix",
    "extensionId" : "ignite.extension.example",
    "version" : "1.0.0",
    "actions" : [ {
        "id" : "Log-body",
        "name" : "Log Body",
        "description" : "A simple xml Body Log with a prefix",
        "descriptor" : {
            "kind" : "ENDPOINT",
            "entrypoint" : "direct:log-xml",
            "resource" : "classpath:META-INF/syndesis/extensions/log-body-action.xml",
            "inputDataShape" : {
                "kind" : "any"
            },
            "outputDataShape" : {
                "kind" : "any"
            },
            "propertyDefinitionSteps" : [ {
                "description" : "Define your Log message",
                "name" : "Log Body",
                "properties" : {
                    "prefix" : {
                        "componentProperty" : false,
                        "deprecated" : false,
                        "description" : "The Log body prefix message",
                        "displayName" : "Log Prefix",
                        "javaType" : "String",
                        "kind" : "parameter",
                        "required" : false,
                        "secret" : false,
                        "type" : "string"
                    }
                }
            } ]
        },
        "tags" : [ "xml" ],
        "actionType" : "step"
    } ],
    "dependencies" : [ {
        "type" : "MAVEN",
        "id" : "io.syndesis.extension:extension-api:jar:1.3.0.fuse-000014"
    } ],
    "extensionType" : "Steps"
}</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ProvideJar"></a>Providing the JAR file to the Ignite user</h3></div></div></div><p>Provide the following to the Ignite user:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">The <code class="literal">.jar</code> file</li><li class="listitem">A document that describes the extension. For a step extension, include information about data shapes that each action in the step extension requires as input or provides as output (for data mapping).</li></ul></div><p>In Ignite, the user uploads the <code class="literal">.jar</code> file as described in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jbossfuse/7.0-tp/html-single/integrating_applications_with_ignite" target="_top">Integrating Applications with Ignite</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ChangeCamelVersion"></a>Changing the Camel version</h2></div></div></div><p>As you work with a Fuse tooling project, you might want to change the Camel
version that it uses. This can be helpful, for example, if you want to use a
feature supported in a more recent Camel version or if you want to use a
community version.</p><p>To change the Camel version that a project uses:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In <span class="strong"><strong>Project Explorer</strong></span>, right-click the project for which you want to
change the Camel version and select <span class="strong"><strong>Configure</strong></span> &#8594; <span class="strong"><strong>Change Camel Version</strong></span>.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Change Camel Version</strong></span> window, to the right of the
<span class="strong"><strong>Camel Version</strong></span> field, click the down caret to display
available Camel versions.</p><p class="simpara">To use a community version of Apache Camel, you enter its version number,
for example, <code class="literal"><span class="strong"><strong>2.19.2</strong></span></code>.</p></li><li class="listitem">Select or enter the version you want and click <span class="strong"><strong>Finish</strong></span>.</li></ol></div><p>Fuse Tooling checks whether the version you selected is available and
supported by Fuse Tooling. If it is then Fuse Tooling changes the Camel
version and saves the project&#8217;s updated <code class="literal">pom.xml</code> file. You receive an error
message if the Camel version that you select is not available or not supported.</p><p>You can check the project&#8217;s Camel version in its <code class="literal">pom.xml</code> file,
in the <code class="literal">&lt;camel.version&gt;</code> element.</p></div></div></body></html>