<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Consul Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="cometd-component.html" title="CometD Component"><link rel="next" href="context-component.html" title="Camel Context Component (deprecated)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="consul-component"></a>Consul Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="consul-component.html#_uri_format_46">URI format</a></span></dt><dt><span class="section"><a href="consul-component.html#_options_22">Options</a></span></dt><dt><span class="section"><a href="consul-component.html#_headers_2">Headers</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel version 2.18</strong></span></p><p>The <span class="strong"><strong>Consul</strong></span> component is a component for integrating your application with Consul.</p><p>Maven users will need to add the following dependency to their pom.xml
for this component:</p><pre class="programlisting">    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
        &lt;artifactId&gt;camel-consul&lt;/artifactId&gt;
        &lt;version&gt;${camel-version}&lt;/version&gt;
    &lt;/dependency&gt;</pre><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_uri_format_46"></a>URI format</h2></div></div></div><pre class="programlisting">    consul:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//domain?[options]</em></pre><p>You can append query options to the URI in the following format:</p><pre class="screen">    ?option=value&amp;option=value&amp;...</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_options_22"></a>Options</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="consul-component.html#_path_parameters_1_parameters_43">Path Parameters (1 parameters):</a></span></dt><dt><span class="section"><a href="consul-component.html#_query_parameters_4_parameters_3">Query Parameters (4 parameters):</a></span></dt></dl></div><p>The Consul component supports 9 options which are listed below.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>url</strong></span> (common)</p></td><td align="left" valign="top"><p>The Consul agent URL</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>datacenter</strong></span> (common)</p></td><td align="left" valign="top"><p>The data center</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sslContextParameters</strong></span> (common)</p></td><td align="left" valign="top"><p>SSL configuration using an org.apache.camel.util.jsse.SSLContextParameters instance.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>SSLContextParameters</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>useGlobalSslContext Parameters</strong></span> (security)</p></td><td align="left" valign="top"><p>Enable usage of global SSL context parameters.</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>aclToken</strong></span> (common)</p></td><td align="left" valign="top"><p>Sets the ACL token to be used with Consul</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>userName</strong></span> (common)</p></td><td align="left" valign="top"><p>Sets the username to be used for basic authentication</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>password</strong></span> (common)</p></td><td align="left" valign="top"><p>Sets the password to be used for basic authentication</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>configuration</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Sets the common configuration shared among endpoints</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ConsulConfiguration</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>resolveProperty Placeholders</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Whether the component should resolve property placeholders on itself when starting. Only properties which are of String type can use property placeholders.</p></td><td align="center" valign="top"><p>true</p></td><td align="left" valign="top"><p>boolean</p></td></tr></tbody></table></div><p>The Consul endpoint is configured using URI syntax:</p><pre class="screen">consul:apiEndpoint</pre><p>with the following path and query parameters:</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_path_parameters_1_parameters_43"></a>Path Parameters (1 parameters):</h3></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>apiEndpoint</strong></span></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> The API endpoint</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_query_parameters_4_parameters_3"></a>Query Parameters (4 parameters):</h3></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>bridgeErrorHandler</strong></span> (consumer)</p></td><td align="left" valign="top"><p>Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>exceptionHandler</strong></span> (consumer)</p></td><td align="left" valign="top"><p>To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this options is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ExceptionHandler</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>exchangePattern</strong></span> (consumer)</p></td><td align="left" valign="top"><p>Sets the exchange pattern when the consumer creates an exchange.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ExchangePattern</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>synchronous</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_headers_2"></a>Headers</h2></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="80%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>CamelConsulAction</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The Producer action</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulKey</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The Key on which the action should applied</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulEventId</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The event id (consumer only)</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulEventName</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The event name (consumer only)</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulEventLTime</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>The event LTime</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulNodeFilter</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The Node filter</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulTagFilter</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The tag filter</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulSessionFilter</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The session filter</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulVersion</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>The data version</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulFlags</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>Flags associated with a value</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulCreateIndex</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>The internal index value that represents when the entry was created</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulLockIndex</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>The number of times this key has successfully been acquired in a lock</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulModifyIndex</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>The last index that modified this key</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulOptions</p></td><td align="left" valign="top"><p>Object</p></td><td align="left" valign="top"><p>Options associated to the request</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulResult</p></td><td align="left" valign="top"><p>boolean</p></td><td align="left" valign="top"><p>true if the response has a result</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulSession</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The session id</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulValueAsString</p></td><td align="left" valign="top"><p>boolean</p></td><td align="left" valign="top"><p>To transform values retrieved from Consul i.e. on KV endpoint to string.</p></td></tr></tbody></table></div></div></div></body></html>