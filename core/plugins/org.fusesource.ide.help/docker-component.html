<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Docker Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="dns-component.html" title="DNS Component"><link rel="next" href="dozer-component.html" title="Dozer Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="docker-component"></a>Docker Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="docker-component.html#_uri_format_60">URI format</a></span></dt><dt><span class="section"><a href="docker-component.html#_general_options_2">General Options</a></span></dt><dt><span class="section"><a href="docker-component.html#_header_strategy">Header Strategy</a></span></dt><dt><span class="section"><a href="docker-component.html#_examples_10">Examples</a></span></dt><dt><span class="section"><a href="docker-component.html#_dependencies_28">Dependencies</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel version 2.15</strong></span></p><p>Camel component for communicating with Docker.</p><p>The Docker Camel component leverages the
<a class="link" href="https://github.com/docker-java/docker-java" target="_top">docker-java</a>&nbsp;via the
<a class="link" href="https://docs.docker.com/reference/api/docker_remote_api" target="_top">Docker Remote
API</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_uri_format_60"></a>URI format</h2></div></div></div><pre class="programlisting">docker:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//[operation]?[options]</em></pre><p>Where <span class="strong"><strong>operation</strong></span> is the specific action to perform on Docker.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_general_options_2"></a>General Options</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="docker-component.html#_path_parameters_1_parameters_50">Path Parameters (1 parameters):</a></span></dt><dt><span class="section"><a href="docker-component.html#_query_parameters_20_parameters_3">Query Parameters (20 parameters):</a></span></dt></dl></div><p>The Docker component supports 2 options which are listed below.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>configuration</strong></span> (advanced)</p></td><td align="left" valign="top"><p>To use the shared docker configuration</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>DockerConfiguration</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>resolveProperty Placeholders</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Whether the component should resolve property placeholders on itself when starting. Only properties which are of String type can use property placeholders.</p></td><td align="center" valign="top"><p>true</p></td><td align="left" valign="top"><p>boolean</p></td></tr></tbody></table></div><p>The Docker endpoint is configured using URI syntax:</p><pre class="screen">docker:operation</pre><p>with the following path and query parameters:</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_path_parameters_1_parameters_50"></a>Path Parameters (1 parameters):</h3></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>operation</strong></span></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Which operation to use</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>DockerOperation</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_query_parameters_20_parameters_3"></a>Query Parameters (20 parameters):</h3></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>email</strong></span> (common)</p></td><td align="left" valign="top"><p>Email address associated with the user</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>host</strong></span> (common)</p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Docker host</p></td><td align="center" valign="top"><p>localhost</p></td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>port</strong></span> (common)</p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Docker port</p></td><td align="center" valign="top"><p>2375</p></td><td align="left" valign="top"><p>Integer</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>requestTimeout</strong></span> (common)</p></td><td align="left" valign="top"><p>Request timeout for response (in seconds)</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Integer</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>bridgeErrorHandler</strong></span> (consumer)</p></td><td align="left" valign="top"><p>Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>exceptionHandler</strong></span> (consumer)</p></td><td align="left" valign="top"><p>To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this options is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ExceptionHandler</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>exchangePattern</strong></span> (consumer)</p></td><td align="left" valign="top"><p>Sets the exchange pattern when the consumer creates an exchange.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ExchangePattern</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>cmdExecFactory</strong></span> (advanced)</p></td><td align="left" valign="top"><p>The fully qualified class name of the DockerCmdExecFactory implementation to use</p></td><td align="center" valign="top"><p>com.github.dockerjava.netty.NettyDockerCmdExecFactory</p></td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>followRedirectFilter</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Whether to follow redirect filter</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>loggingFilter</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Whether to use logging filter</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>maxPerRouteConnections</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Maximum route connections</p></td><td align="center" valign="top"><p>100</p></td><td align="left" valign="top"><p>Integer</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>maxTotalConnections</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Maximum total connections</p></td><td align="center" valign="top"><p>100</p></td><td align="left" valign="top"><p>Integer</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>serverAddress</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Server address for docker registry.</p></td><td align="center" valign="top"><p><a class="link" href="https://index.docker.io/v1/" target="_top">https://index.docker.io/v1/</a></p></td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>socket</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Socket connection mode</p></td><td align="center" valign="top"><p>true</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>synchronous</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>certPath</strong></span> (security)</p></td><td align="left" valign="top"><p>Location containing the SSL certificate chain</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>password</strong></span> (security)</p></td><td align="left" valign="top"><p>Password to authenticate with</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>secure</strong></span> (security)</p></td><td align="left" valign="top"><p>Use HTTPS communication</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>tlsVerify</strong></span> (security)</p></td><td align="left" valign="top"><p>Check TLS</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>username</strong></span> (security)</p></td><td align="left" valign="top"><p>User name to authenticate with</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_header_strategy"></a>Header Strategy</h2></div></div></div><p>All URI option can be passed as Header properties. Values found in a
message header take precedence over URI parameters. A header property
takes the form of a URI option prefixed with <span class="strong"><strong>CamelDocker</strong></span> as shown
below</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="50%" class="col_1"><col width="50%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">URI Option</th><th align="left" valign="top">Header Property</th></tr></thead><tbody><tr><td align="left" valign="top"><p>containerId</p></td><td align="left" valign="top"><p>CamelDockerContainerId</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_examples_10"></a>Examples</h2></div></div></div><p>The following example consumes events from Docker:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"docker://events?host=192.168.59.103&amp;port=2375"</em></strong>).to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"log:event"</em></strong>);</pre><p>The following example queries Docker for system wide information</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"docker://info?host=192.168.59.103&amp;port=2375"</em></strong>).to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"log:info"</em></strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_dependencies_28"></a>Dependencies</h2></div></div></div><p>To use Docker in your Camel routes you need to add a dependency on
<span class="strong"><strong>camel-docker</strong></span>, which implements the component.</p><p>If you use Maven you can just add the following to your pom.xml,
substituting the version number for the latest and greatest release (see
the download page for the latest versions).</p><pre class="programlisting">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-docker&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
&lt;/dependency&gt;</pre></div></div></body></html>