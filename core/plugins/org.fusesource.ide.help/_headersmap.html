<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>HeadersMap</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="hdfs2-component.html" title="HDFS2 Component"><link rel="next" href="hessian-dataformat.html" title="Hessian DataFormat (deprecated)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="_headersmap"></a>HeadersMap</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="_headersmap.html#_auto_detection_from_classpath">Auto detection from classpath</a></span></dt><dt><span class="section"><a href="_headersmap.html#_manual_enabling">Manual enabling</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel 2.20</strong></span></p><p>The camel-headersmap is a faster implementation of a case-insenstive map which can be plugged in
and used by Camel at runtime to have slight faster performance in the Camel Message headers.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_auto_detection_from_classpath"></a>Auto detection from classpath</h2></div></div></div><p>To use this implementation all you need to do is to add the <code class="literal">camel-headersmap</code> dependency to the classpath,
and Camel should auto-detect this on startup and log as follows:</p><pre class="screen">Detected and using custom HeadersMapFactory: org.apache.camel.component.headersmap.FastHeadersMapFactory@71e9ebae</pre><p>For spring-boot there is a <code class="literal">camel-headersmap-starter</code> dependency you should use.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_manual_enabling"></a>Manual enabling</h2></div></div></div><p>If you use OSGi or the implementation is not added to the classpath, you need to enable this explict such .Title</p><pre class="screen">CamelContext camel = ...

camel.setHeadersMapFactory(new FastHeadersMapFactory());</pre><p>Or in XML DSL (spring or blueprint XML file) you can declare the factory as a <code class="literal">&lt;bean&gt;</code></p><pre class="screen">&lt;bean id="fastMapFactory" class="org.apache.camel.component.headersmap.FastHeadersMapFactory"/&gt;</pre><p>and then Camel should detect the bean and use the factory, which is logged:</p></div></div></body></html>