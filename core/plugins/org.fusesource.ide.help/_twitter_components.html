<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Twitter Components</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="twilio-component.html" title="Twilio Component"><link rel="next" href="twitter-directmessage-component.html" title="Twitter Direct Message Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="_twitter_components"></a>Twitter Components</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="_twitter_components.html#_consumer_endpoints_14">Consumer endpoints</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_producer_endpoints_15">Producer endpoints</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_message_headers_47">Message headers</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_message_body_27">Message body</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_use_cases_6">Use cases</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_example_20">Example</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_see_also_139">See Also</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel version 2.10</strong></span></p><p>The camel-twitter consists of 4 components:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="twitter-directmessage-component.html" title="Twitter Direct Message Component">Twitter Direct Message</a></li><li class="listitem"><a class="link" href="twitter-search-component.html" title="Twitter Search Component">Twitter Search</a></li><li class="listitem"><a class="link" href="twitter-streaming-component.html" title="Twitter Streaming Component">Twitter Streaming</a></li><li class="listitem"><a class="link" href="twitter-timeline-component.html" title="Twitter Timeline Component">Twitter Timeline</a></li></ul></div><p>The Twitter components enable the most useful features of the Twitter
API by encapsulating <a class="link" href="http://twitter4j.org/" target="_top">Twitter4J</a>. It allows direct,
polling, or event-driven consumption of timelines, users, trends, and
direct messages. Also, it supports producing messages as status updates
or direct messages.</p><p>Twitter now requires the use of OAuth for all client application
authentication. In order to use camel-twitter with your account, you&#8217;ll
need to create a new application within Twitter at
<a class="link" href="https://dev.twitter.com/apps/new" target="_top">https://dev.twitter.com/apps/new</a> and grant the application access to
your account. Finally, generate your access token and secret.</p><p>Maven users will need to add the following dependency to their pom.xml
for this component:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-twitter<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>${camel-version}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_consumer_endpoints_14"></a>Consumer endpoints</h2></div></div></div><p>Rather than the endpoints returning a List through one single route
exchange, camel-twitter creates one route exchange per returned object.
As an example, if "timeline/home" results in five statuses, the route
will be executed five times (one for each Status).</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="10%" class="col_3"><col width="70%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Endpoint</th><th align="left" valign="top">Context</th><th align="left" valign="top">Body Type</th><th align="left" valign="top">Notice</th></tr></thead><tbody><tr><td align="left" valign="top"><p><a class="link" href="twitter-directmessage-component.html" title="Twitter Direct Message Component">twitter-directmessage</a></p></td><td align="left" valign="top"><p>direct, polling</p></td><td align="left" valign="top"><p>twitter4j.DirectMessage</p></td><td align="left" valign="top"><p>&nbsp;</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="twitter-search-component.html" title="Twitter Search Component">twitter-search</a></p></td><td align="left" valign="top"><p>direct, polling</p></td><td align="left" valign="top"><p>twitter4j.Status</p></td><td align="left" valign="top"><p>&nbsp;</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="twitter-streaming-component.html" title="Twitter Streaming Component">twitter-streaming</a></p></td><td align="left" valign="top"><p>event, polling</p></td><td align="left" valign="top"><p>twitter4j.Status</p></td><td align="left" valign="top"><p>&nbsp;</p></td></tr><tr><td align="left" valign="top"><p><a class="link" href="twitter-timeline-component.html" title="Twitter Timeline Component">twitter-timeline</a></p></td><td align="left" valign="top"><p>direct, polling</p></td><td align="left" valign="top"><p>twitter4j.Status</p></td><td align="left" valign="top"><p>&nbsp;</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_producer_endpoints_15"></a>Producer endpoints</h2></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="80%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Endpoint</th><th align="left" valign="top">Body Type</th><th align="left" valign="top">Notice</th></tr></thead><tbody><tr><td align="left" valign="top"><p><a class="link" href="twitter-directmessage-component.html" title="Twitter Direct Message Component">twitter-directmessage</a></p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><a class="link" href="twitter-search-component.html" title="Twitter Search Component">twitter-search</a></p></td><td align="left" valign="top"><p>List&lt;twitter4j.Status&gt;</p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><a class="link" href="twitter-timeline-component.html" title="Twitter Timeline Component">twitter-timeline</a></p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>Only 'user' timelineType is supported for producer</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_message_headers_47"></a>Message headers</h2></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="20%" class="col_1"><col width="80%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">CamelTwitterKeywords</code></p></td><td align="left" valign="top"><p>This header is used by the search producer to
change the search key words dynamically.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelTwitterSearchLanguage</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.11.0:</strong></span> This header can override
the option of <code class="literal">lang</code> which set the search language for the search
endpoint dynamically</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelTwitterCount</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.11.0</strong></span> This header can override the option
of <code class="literal">count</code> which sets the max twitters that will be returned.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelTwitterNumberOfPages</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.11.0</strong></span> This header can override
the option of <code class="literal">numberOfPages</code> which sets how many pages we want to
twitter returns.</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_message_body_27"></a>Message body</h2></div></div></div><p>All message bodies utilize objects provided by the Twitter4J API.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_use_cases_6"></a>Use cases</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="_twitter_components.html#_to_create_a_status_update_within_your_twitter_profile_send_this_producer_a_string_body">To create a status update within your Twitter profile, send this producer a String body:</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_to_poll_every_60_sec_all_statuses_on_your_home_timeline">To poll, every 60 sec., all statuses on your home timeline:</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_to_search_for_all_statuses_with_the_keyword_camel_only_once">To search for all statuses with the keyword 'camel' only once:</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_searching_using_a_producer_with_static_keywords">Searching using a producer with static keywords:</a></span></dt><dt><span class="section"><a href="_twitter_components.html#_searching_using_a_producer_with_dynamic_keywords_from_header">Searching using a producer with dynamic keywords from header:</a></span></dt></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>API Rate Limits:</strong></span> Twitter REST APIs encapsulated by <a class="link" href="http://twitter4j.org/" target="_top">Twitter4J</a> are
subjected to <a class="link" href="https://dev.twitter.com/rest/public/rate-limiting" target="_top">API Rate
Limiting</a>. You can find the per method limits in the
<a class="link" href="https://dev.twitter.com/rest/public/rate-limits" target="_top">API Rate Limits</a>
documentation. Note that endpoints/resources not listed in that page are
default to 15 requests per allotted user per window.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_to_create_a_status_update_within_your_twitter_profile_send_this_producer_a_string_body"></a>To create a status update within your Twitter profile, send this producer a String body:</h3></div></div></div><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:foo"</em></strong>)
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"twitter-timeline://user?consumerKey=[s]&amp;consumerSecret=[s]&amp;accessToken=[s]&amp;accessTokenSecret=[s]);</em></strong></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_to_poll_every_60_sec_all_statuses_on_your_home_timeline"></a>To poll, every 60 sec., all statuses on your home timeline:</h3></div></div></div><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"twitter-timeline://home?type=polling&amp;delay=60&amp;consumerKey=[s]&amp;consumerSecret=[s]&amp;accessToken=[s]&amp;accessTokenSecret=[s]"</em></strong>)
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"bean:blah"</em></strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_to_search_for_all_statuses_with_the_keyword_camel_only_once"></a>To search for all statuses with the keyword 'camel' only once:</h3></div></div></div><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"twitter-search://foo?type=polling&amp;keywords=camel&amp;consumerKey=[s]&amp;consumerSecret=[s]&amp;accessToken=[s]&amp;accessTokenSecret=[s]"</em></strong>)
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"bean:blah"</em></strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_searching_using_a_producer_with_static_keywords"></a>Searching using a producer with static keywords:</h3></div></div></div><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:foo"</em></strong>)
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"twitter-search://foo?keywords=camel&amp;consumerKey=[s]&amp;consumerSecret=[s]&amp;accessToken=[s]&amp;accessTokenSecret=[s]"</em></strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_searching_using_a_producer_with_dynamic_keywords_from_header"></a>Searching using a producer with dynamic keywords from header:</h3></div></div></div><p>In the <code class="literal">bar</code> header we have the keywords we want to search, so we can
assign this value to the <code class="literal">CamelTwitterKeywords</code> header:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:foo"</em></strong>)
  .setHeader(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"CamelTwitterKeywords"</em></strong>, header(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"bar"</em></strong>))
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"twitter-search://foo?consumerKey=[s]&amp;consumerSecret=[s]&amp;accessToken=[s]&amp;accessTokenSecret=[s]"</em></strong>);</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_example_20"></a>Example</h2></div></div></div><p>See also the <a class="link" href="twitter-websocket-example.html" target="_top">Twitter Websocket
Example</a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_see_also_139"></a>See Also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Configuring Camel</li><li class="listitem">Component</li><li class="listitem">Endpoint</li><li class="listitem">Getting Started</li><li class="listitem">Twitter Websocket Example</li></ul></div></div></div></body></html>